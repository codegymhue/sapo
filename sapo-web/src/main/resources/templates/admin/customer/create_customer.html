<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html" lang="vi-VN"
      class="sapo-menu-expand sapo-menu-toggle-active">
<head>
    <title>Thêm khách hàng mới</title>

    <th:block th:replace="/admin/customer/layout/header"/>
    <link rel="stylesheet" href="/assets/admin/css/customer/customer_create.css"/>
    <!--    <link rel="stylesheet" href="/assets/admin/css/customer/cus_group.css"/>-->
</head>
<body>
<div id="root">
    <th:block th:replace="/layout/menu"/>

    <div class="jss64 jss40">
        <div>
            <div class="jss10118">
                <div class="jss10121">
                    <a class="MuiTypography-root MuiLink-underlineNone jss23596 MuiTypography-colorSecondary"
                       href="/admin/customers">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                             class="jss23597">
                            <path d="M14.298 5.99 8.288 12l6.01 6.01 1.414-1.414L11.116 12l4.596-4.596-1.414-1.414Z"
                                  fill="currentColor">
                            </path>
                        </svg>
                        <h6 class="MuiTypography-root MuiTypography-subtitle1">
                            Quay lại danh sách khách hàng
                        </h6>
                    </a>
                </div>
                <div class="jss20296">
                    <button type="button" class="ldZiUT ldZabc" href="/admin/customers">
                        Hủy
                    </button>
                    <button id="btnCreateCustomer" class="RthGc ldZabc" type="button">
                        <span class="cMXJOk">
                            Lưu
                        </span>
                    </button>
                </div>
            </div>
        </div>
        <form id="frmCreateCustomer">
            <div class="jss20286">
                <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                    <div class="MuiGrid-item MuiGrid-grid-xs-8">
                        <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                <div class="MuiPaper-root jss20448 MuiPaper-elevation1 MuiPaper-rounded">
                                    <div class="jss20478 jss20449 borderBottom">
                                        <div class="jss21051">
                                            <h6 class="MuiTypography-root MuiTypography-h6">
                                                Thông tin chung
                                            </h6>
                                        </div>
                                    </div>
                                    <div class="jss20480">
                                        <div class="MuiGrid-container MuiGrid-spacing-xs-2">
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div class="MuiFormControl-root jss20481 MuiFormControl-fullWidth">
                                                    <label class="MuiFormLabel-root MuiInputLabel-root jss20482 MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink"
                                                           data-shrink="true" for="nameCreate">
                                                        Tên khách hàng
                                                        <span class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> *</span>
                                                    </label>
                                                    <div class="MuiFormControl-root jss20483 MuiFormControl-fullWidth">
                                                        <div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth">
                                                            <input id="nameCreate" name="nameCreate"
                                                                   placeholder="Nhập tên khách hàng" type="text"
                                                                   class="MuiInputBase-input MuiOutlinedInput-input">
                                                            <fieldset aria-hidden="true"
                                                                      class="jss20550 MuiOutlinedInput-notchedOutline">
                                                                <legend class="jss20551">
                                                                    <span>​</span>
                                                                </legend>
                                                            </fieldset>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                        <div class="MuiFormControl-root jss20481 MuiFormControl-fullWidth">
                                                            <label class="MuiFormLabel-root MuiInputLabel-root jss20482 MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink"
                                                                   data-shrink="true" for="codeCreate">
                                                                Mã khách hàng
                                                            </label>
                                                            <div class="MuiFormControl-root jss20483 MuiFormControl-fullWidth">
                                                                <div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth">
                                                                    <input aria-invalid="false"
                                                                           id="codeCreate"
                                                                           name="codeCreate"
                                                                           placeholder="Nhập mã khách hàng" type="text"
                                                                           aria-label="Without label"
                                                                           class="MuiInputBase-input MuiOutlinedInput-input">
                                                                    <fieldset aria-hidden="true"
                                                                              class="jss20550 MuiOutlinedInput-notchedOutline">
                                                                        <legend class="jss20551">
                                                                            <span>​</span>
                                                                        </legend>
                                                                    </fieldset>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                        <div>
                                                            <div class="jss21262">
                                                                <label for="customerGroupCreate"
                                                                       class="MuiTypography-root MuiTypography-body1 jss764">
                                                                    Nhóm khách hàng
                                                                </label>
                                                            </div>
                                                            <select class="form-select jss763  diplSI"
                                                                    name="customerGroupCreate"
                                                                    id="customerGroupCreate">
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                        <div class="MuiFormControl-root jss20481 MuiFormControl-fullWidth">
                                                            <label class="MuiFormLabel-root MuiInputLabel-root jss20482 MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink"
                                                                   data-shrink="true" for="phoneCreate">
                                                                Số điện thoại
                                                            </label>
                                                            <div class="MuiFormControl-root jss20483 MuiFormControl-fullWidth">
                                                                <div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth">
                                                                    <input aria-invalid="false"
                                                                           id="phoneCreate"
                                                                           name="phoneCreate"
                                                                           placeholder="Nhập số điện thoại" type="text"
                                                                           aria-label="Without label"
                                                                           class="MuiInputBase-input MuiOutlinedInput-input">
                                                                    <fieldset aria-hidden="true"
                                                                              class="jss20550 MuiOutlinedInput-notchedOutline">
                                                                        <legend class="jss20551">
                                                                            <span>​</span>
                                                                        </legend>
                                                                    </fieldset>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                        <div class="MuiFormControl-root jss20481 MuiFormControl-fullWidth">
                                                            <label class="MuiFormLabel-root MuiInputLabel-root jss20482 MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink"
                                                                   data-shrink="true" for="emailCreate">
                                                                Email
                                                            </label>
                                                            <div class="MuiFormControl-root jss20483 MuiFormControl-fullWidth">
                                                                <div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth">
                                                                    <input aria-invalid="false"
                                                                           id="emailCreate"
                                                                           name="emailCreate"
                                                                           placeholder="Nhập địa chỉ email" type="text"
                                                                           aria-label="Without label"
                                                                           class="MuiInputBase-input MuiOutlinedInput-input">
                                                                    <fieldset aria-hidden="true"
                                                                              class="jss20550 MuiOutlinedInput-notchedOutline">
                                                                        <legend class="jss20551">
                                                                            <span>​</span>
                                                                        </legend>
                                                                    </fieldset>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                        <div>
                                                            <div class="jss21097">
                                                                <label class="MuiTypography-root MuiTypography-body1"
                                                                       for="province">
                                                                    Tỉnh - Thành Phố
                                                                </label>
                                                            </div>
                                                            <div tabindex="0">
                                                                <select class="form-select jss87874 jss763 diplSI"
                                                                        name="province"
                                                                        id="province">
                                                                    <option selected value="0">
                                                                        <p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextPrimary">
                                                                            Chọn Tỉnh/Thành phố
                                                                        </p>
                                                                    </option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                        <div>
                                                            <div class="jss21097">
                                                                <label class="MuiTypography-root MuiTypography-body1"
                                                                       for="district">
                                                                    Huyện
                                                                </label>
                                                            </div>
                                                            <select class="form-select jss87874 jss763 diplSI"
                                                                    name="district"
                                                                    id="district">
                                                                <option value="0">
                                                                    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextPrimary">
                                                                        Chọn Quận/Huyện
                                                                    </p>
                                                                </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                        <div>
                                                            <div class="jss21097">
                                                                <label class="MuiTypography-root MuiTypography-body1"
                                                                       for="ward">
                                                                    Xã
                                                                </label>
                                                            </div>
                                                            <select class="form-select jss87874 jss763 diplSI"
                                                                    name="ward"
                                                                    id="ward">
                                                                <option value="0">
                                                                    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextPrimary">
                                                                        Chọn Phường/Xã
                                                                    </p>
                                                                </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div class="MuiFormControl-root jss20481 MuiFormControl-fullWidth">
                                                    <label class="MuiFormLabel-root MuiInputLabel-root jss20482 MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink"
                                                           data-shrink="true" for="addressCreate">
                                                        Địa chỉ cụ thể
                                                    </label>
                                                    <div class="MuiFormControl-root jss20483 jss20484 MuiFormControl-fullWidth">
                                                        <div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth MuiInputBase-multiline MuiOutlinedInput-multiline">
                                                            <textarea
                                                                    type="text"
                                                                    aria-invalid="false"
                                                                    id="addressCreate"
                                                                    name="addressCreate"
                                                                    placeholder="Nhập địa chỉ" rows="5"
                                                                    aria-label="Without label"
                                                                    class="jss23785 jss23786">
                                                            </textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="MuiGrid-item MuiGrid-grid-xs-12 diplSII">
                            <div class="MuiPaper-root jss20448 MuiPaper-elevation1 MuiPaper-rounded">
                                <div class="jss20478 jss20449 borderBottom">
                                    <div class="jss21051">
                                        <h6 class="MuiTypography-root MuiTypography-h6">
                                            Thông tin bổ sung
                                        </h6>
                                    </div>
                                </div>
                                <div class="jss5102">
                                    <div class="MuiGrid-container MuiGrid-spacing-xs-2">
                                        <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                            <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                                                <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                    <div class="gTRFtW">
                                                        <label class="diplSI" for="birthdayCreate">
                                                            Ngày sinh
                                                        </label>
                                                        <div class="hISLMV">
                                                            <div class="input-group">
                                                                <input type="date" id="birthdayCreate"
                                                                       class="birthdayCreate form-control jss763">
                                                            </div>
                                                            <fieldset class="iUBRZb"></fieldset>
                                                            <div class="bqqjdk nysSE"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                    <div class="iFpFap">
                                                        <div class="MuiFormControl-root jss20632 MuiFormControl-fullWidth">
                                                            <div class="jss20637">
                                                                <label class="MuiFormLabel-root MuiInputLabel-root jss20635 MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-outlined"
                                                                       data-shrink="true" for="genderCreate">
                                                                    Giới tính
                                                                </label>
                                                            </div>
                                                            <div class="MuiInputBase-root MuiOutlinedInput-root jss20633 MuiInputBase-fullWidth">
                                                                <select class="jss87874 form-select jss763"
                                                                        name="genderCreate"
                                                                        id="genderCreate">
                                                                    <option value="NAM">Nam</option>
                                                                    <option value="NU">Nữ</option>
                                                                    <option value="KHAC">Khác</option>
                                                                </select>
                                                                <input name="gender" type="hidden" value="other">
                                                                <svg class="MuiSvgIcon-root MuiSelect-icon MuiSelect-iconOutlined"
                                                                     focusable="false" viewBox="0 0 24 24"
                                                                     aria-hidden="true">
                                                                </svg>
                                                                <fieldset aria-hidden="true"
                                                                          class="jss20550 MuiOutlinedInput-notchedOutline">
                                                                    <legend class="jss20551">
                                                                        <span>​</span>
                                                                    </legend>
                                                                </fieldset>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                            <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                                                <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                    <div name="fax" class="iFpFap">
                                                        <label for="faxCreate" class="dGcxKm">
                                                            Số fax
                                                        </label>
                                                        <div class="bPMzLG">
                                                            <input id="faxCreate" placeholder="Nhập số fax" type="text"
                                                                   class="fqUehn">
                                                            <fieldset class="iKmOWq"></fieldset>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                    <div name="taxNumber" class="iFpFap">
                                                        <label for="taxCodeCreate" class="dGcxKm">
                                                            Mã số thuế
                                                        </label>
                                                        <div class="bPMzLG">
                                                            <input id="taxCodeCreate"
                                                                   placeholder="Nhập mã số thuế" type="text"
                                                                   class="fqUehn">
                                                            <fieldset class="iKmOWq"></fieldset>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                            <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                                                <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                    <div name="website" class="iFpFap">
                                                        <label for="websiteCreate" class="dGcxKm">
                                                            Website
                                                        </label>
                                                        <div class="bPMzLG">
                                                            <input id="websiteCreate"
                                                                   placeholder="Nhập tên miền website " type="text"
                                                                   class="fqUehn">
                                                            <fieldset class="iKmOWq"></fieldset>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                    <div name="debtTotal" class="iFpFap">
                                                        <label for="debtTotal" class="dGcxKm">
                                                            Công nợ
                                                        </label>
                                                        <div class="bPMzLG">
                                                            <input id="debtTotal"
                                                                   placeholder="Nhập công nợ khách hàng" type="text"
                                                                   class="fqUehn">
                                                            <fieldset class="iKmOWq"></fieldset>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                            <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                                                <div class="MuiGrid-item MuiGrid-grid-xs-6">
                                                    <div name="website" class="iFpFap">
                                                        <label for="spendTotal" class="dGcxKm">
                                                            Tổng chi tiêu
                                                        </label>
                                                        <div class="bPMzLG">
                                                            <input id="spendTotal"
                                                                   placeholder="Nhập tổng chi tiêu khách hàng"
                                                                   type="text"
                                                                   class="fqUehn">
                                                            <fieldset class="iKmOWq"></fieldset>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="MuiGrid-item MuiGrid-grid-xs-4">
                        <div class="MuiGrid-container MuiGrid-spacing-xs-3">
                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                <div class="MuiPaper-root jss20448 MuiPaper-elevation1 MuiPaper-rounded">
                                    <div class="jss20680 jss20449 borderBottom">
                                        <div class="jss21138">
                                            <h6 class="MuiTypography-root MuiTypography-h6 jss21051">
                                                Thông tin khác
                                            </h6>
                                        </div>
                                    </div>
                                    <div class="jss20480">
                                        <div class="MuiGrid-container MuiGrid-spacing-xs-2">
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div>
                                                    <div class="jss21149">
                                                        <label class="MuiTypography-root MuiTypography-body1"
                                                               for="employeeNameCreate">
                                                            Nhân viên phụ trách
                                                        </label>
                                                    </div>
                                                    <select name="employeeNameCreate" id="employeeNameCreate"
                                                            class="form-select jss20483 jss763 diplSI jss23786">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div class="MuiFormControl-root jss20481 MuiFormControl-fullWidth">
                                                    <label class="MuiFormLabel-root MuiInputLabel-root jss20482 MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink"
                                                           data-shrink="true" for="descriptionCreate">
                                                        Mô tả
                                                    </label>
                                                    <div class="MuiFormControl-root MuiTextField-root jss20483 jss20484 MuiFormControl-fullWidth">
                                                        <div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth MuiInputBase-formControl MuiInputBase-multiline MuiOutlinedInput-multiline">
                                                          <textarea id="descriptionCreate" class="jss23785 jss23786"
                                                                    name="descriptionCreate" placeholder="Nhập mô tả"
                                                                    rows="3">
                                                          </textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div class="MuiFormControl-root jss20481 MuiFormControl-fullWidth">
                                                    <label class="MuiFormLabel-root MuiInputLabel-root jss20482 MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink"
                                                           data-shrink="true" for="descriptionCreate">
                                                        Tag
                                                        <span class="MuiTypography-root MuiTypography-caption"
                                                              title="Chọn hoặc thêm thẻ sẽ cho phép bạn tìm kiếm và lọc khách hàng ở trang danh sách dễ dàng hơn">
                                                            <svg class="MuiSvgIcon-root MuiSvgIcon-colorPrimary jss20682"
                                                                 focusable="false" viewBox="0 0 12 12"
                                                                 aria-hidden="true">
                                <path d="M5.4 3V4.2H6.6V3H5.4Z" fill="currenColor"></path>
                                <path d="M5.4 6.6V9H7.2V7.8H6.6V5.4H4.8V6.6H5.4Z" fill="currenColor"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                      d="M6 0C2.688 0 0 2.688 0 6C0 9.312 2.688 12 6 12C9.312 12 12 9.312 12 6C12 2.688 9.312 0 6 0ZM1.2 6C1.2 8.646 3.354 10.8 6 10.8C8.646 10.8 10.8 8.646 10.8 6C10.8 3.354 8.646 1.2 6 1.2C3.354 1.2 1.2 3.354 1.2 6Z"
                                      fill="currenColor">
                                </path>
                              </svg>
                                                        </span>
                                                    </label>
                                                    <div class="MuiFormControl-root MuiTextField-root jss20483 jss20484 MuiFormControl-fullWidth">
                                                        <div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth MuiInputBase-formControl MuiInputBase-multiline MuiOutlinedInput-multiline">
                              <textarea aria-invalid="false" id="tagCreate"
                                        name="tagCreate" rows="3"
                                        aria-label="Without label"
                                        class="jss23785 jss23786">
                              </textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                <div class="MuiPaper-root jss20448 MuiPaper-elevation1 MuiPaper-rounded">
                                    <div class="jss20680 jss20449 borderBottom">
                                        <div class="jss21138">
                                            <h6 class="MuiTypography-root MuiTypography-h6 jss21051">
                                                Cài đặt nâng cao
                                                <span class="MuiTypography-root MuiTypography-caption"
                                                      title="Thiết lập các thông số tự động dùng trong các giao dịch">
                                                            <svg class="MuiSvgIcon-root MuiSvgIcon-colorPrimary jss20682"
                                                                 focusable="false" viewBox="0 0 12 12"
                                                                 aria-hidden="true">
                                <path d="M5.4 3V4.2H6.6V3H5.4Z" fill="currenColor"></path>
                                <path d="M5.4 6.6V9H7.2V7.8H6.6V5.4H4.8V6.6H5.4Z" fill="currenColor"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd" fill="currenColor"
                                      d="M6 0C2.688 0 0 2.688 0 6C0 9.312 2.688 12 6 12C9.312 12 12 9.312 12 6C12 2.688 9.312 0 6 0ZM1.2 6C1.2 8.646 3.354 10.8 6 10.8C8.646 10.8 10.8 8.646 10.8 6C10.8 3.354 8.646 1.2 6 1.2C3.354 1.2 1.2 3.354 1.2 6Z">
                                </path>
                                                            </svg>
                                                </span>
                                            </h6>
                                        </div>
                                    </div>
                                    <div class="jss20480">
                                        <div class="MuiGrid-container MuiGrid-spacing-xs-2">
                                            <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                <div class="jss762">
                                                    <div class="jss21149">
                                                        <label class="MuiTypography-root MuiTypography-body1"
                                                               for="employeeNameCreate">
                                                            Áp dụng ưu đãi
                                                        </label>
                                                    </div>
                                                    <div class="jss20683">
                                                        <div class="jss20684">
                                                            <div class="jss20685">
                                                                <input type="radio" checked="checked"
                                                                       id="customerGroupRadio" name="radio">
                                                            </div>
                                                            <label for="customerGroupRadio"
                                                                   class="MuiTypography-root MuiTypography-body1">
                                                                Theo nhóm khách hàng
                                                            </label>
                                                        </div>
                                                        <div class="jss20684">
                                                            <div class="jss20685">
                                                                <input type="radio" id="customerRadio" name="radio">
                                                            </div>
                                                            <label for="customerRadio"
                                                                   class="MuiTypography-root MuiTypography-body1">
                                                                Theo khách hàng
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="MuiGrid-container MuiGrid-spacing-xs-2 hidden" id="offer">
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                        <div>
                                                            <label class="MuiFormLabel-root MuiInputLabel-root jss755"
                                                                   data-shrink="true" for="dropdownPaymentMethod">
                                                                Hình thức thanh toán
                                                            </label>
                                                            <select id="dropdownPaymentMethod" class="jss759 diplSI">
                                                                <option value="0" class="jss23599">Chọn hình thức thanh toán
                                                                </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                        <div>
                                                            <div class="">
                                                                <label class="MuiFormLabel-root MuiInputLabel-root jss755"
                                                                       for="searchDefaultPriceDropdown">
                                                                    Giá mặc định
                                                                </label>
                                                            </div>
                                                            <div class="dropdown jss1784 jss1769 diplSI jss759"
                                                                 onclick="CustomerApp.page.commands.showDefaultPricingPolicyDropdown()"
                                                                 id="defaultPriceContainer">
                                                                <p id="selectedPriceDefault">Chọn giá mặc định</p>
                                                            </div>
                                                            <div id="defaultPriceDropdown" class="dropdown-content">
                                                                <div>
                                                                    <div class="jss23596">
                                                                        <div class="jss23775 jss23769">
                                                                            <i class="fa-solid fa-magnifying-glass"></i>
                                                                        </div>
                                                                        <div class="MuiGrid-container">
                                                                            <input type="text"
                                                                                   placeholder="Tìm kiếm"
                                                                                   class="jss23784"
                                                                                   id="searchDefaultPriceDropdown"
                                                                                   onkeyup="CustomerApp.searchDefaultPriceDropdown()">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div onclick="CustomerApp.page.commands.showModalCreatePricePolicy()">
                                                                    <div class="jss23596">
                                                                        <div class="jss23775 jss23769 jss760">
                                                                            <i class="fa-solid fa-circle-plus"></i>
                                                                        </div>
                                                                        <span class="jss760 jss754">Thêm mới chính sách giá</span>
                                                                    </div>
                                                                </div>
                                                                <div id="listPricePolicy" class="jss23783"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="MuiGrid-item MuiGrid-grid-xs-12">
                                                        <div>
                                                            <label class="MuiFormLabel-root MuiInputLabel-root jss755"
                                                                   data-shrink="true"
                                                                   for="defaultDiscountRate">
                                                                Chiết
                                                                khấu
                                                                (%)
                                                            </label>
                                                            <div class="MuiFormControl-root jss756 MuiFormControl-fullWidth"
                                                                 field="[object Object]"
                                                                 form="[object Object]">
                                                                <div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth jss759">
                                                                    <input aria-invalid="false"
                                                                           id="defaultDiscountRate"
                                                                           name="defaultDiscountRate"
                                                                           type="text"
                                                                           aria-label="Without label"
                                                                           class="MuiInputBase-input MuiOutlinedInput-input jss758 placeholder_text"
                                                                           placeholder="0"
                                                                           fdprocessedid="16ju8f">
                                                                    <fieldset
                                                                            aria-hidden="true"
                                                                            class="MuiOutlinedInput-notchedOutline">
                                                                        <legend class="jss824"></legend>
                                                                    </fieldset>
                                                                </div>
                                                            </div>
                                                            <div class="error defaultDiscountRate-error hidden"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

</body>
<th:block th:replace="/admin/customer/modal_createPricePolicy"/>
<th:block th:replace="/admin/customer/layout/script"/>
<script src="/assets/admin/js/customer/customer_app.js"></script>

<script>

    let customer = {};
    let createAddressParam = {};

    CustomerApp.page.elements.modalCreatePricePolicy = $("#modalCreatePricePolicy");

    CustomerApp.page.elements.frmCreateCustomer = $("#frmCreateCustomer");

    CustomerApp.page.elements.genderCreate = $("#genderCreate");
    CustomerApp.page.elements.customerGroupCreate = $("#customerGroupCreate");
    CustomerApp.page.elements.employeeNameCreate = $("#employeeNameCreate");
    CustomerApp.page.elements.offer = $("#offer");

    CustomerApp.page.elements.nameCreate = $('#nameCreate');
    CustomerApp.page.elements.codeCreate = $('#codeCreate');
    CustomerApp.page.elements.phoneCreate = $('#phoneCreate');
    CustomerApp.page.elements.emailCreate = $('#emailCreate');
    CustomerApp.page.elements.birthdayCreate = $('#birthdayCreate');
    CustomerApp.page.elements.faxCreate = $('#faxCreate');

    CustomerApp.page.elements.districtUpdate = $("#districtUpdate");
    CustomerApp.page.elements.provinceUpdate = $("#provinceUpdate");
    CustomerApp.page.elements.wardUpdate = $("#wardUpdate");
    CustomerApp.page.elements.district = $("#district");
    CustomerApp.page.elements.province = $("#province");
    CustomerApp.page.elements.ward = $("#ward");
    CustomerApp.page.elements.taxCodeCreate = $("#taxCodeCreate");
    CustomerApp.page.elements.websiteCreate = $("#websiteCreate");
    CustomerApp.page.elements.debtTotal = $("#debtTotal");
    CustomerApp.page.elements.spendTotal = $("#spendTotal");
    CustomerApp.page.elements.descriptionCreate = $("#descriptionCreate");
    CustomerApp.page.elements.tagCreate = $("#tagCreate");
    CustomerApp.page.elements.addressCreate = $("#addressCreate");

    CustomerApp.page.elements.dropdownPaymentMethod = $("#dropdownPaymentMethod");

    CustomerApp.page.elements.btnCloseCustomer = $('#btnCloseCustomer');
    CustomerApp.page.elements.btnCloseCreatePricePolicyModal = $(".btnCloseCreatePricePolicyModal");
    CustomerApp.page.elements.btnCreatePricePolicy = $("#btnCreatePricePolicy");
    CustomerApp.page.elements.btnCreateCustomer = $("#btnCreateCustomer");
    CustomerApp.page.elements.frmCreatePricePolicy = $("#frmCreatePricePolicy");
    CustomerApp.page.elements.searchDefaultPriceDropdown = $("#searchDefaultPriceDropdown");
    CustomerApp.page.elements.defaultPriceDropdown = $("#defaultPriceDropdown");

    CustomerApp.page.elements.selectedPriceDefault = $("#selectedPriceDefault");

    CustomerApp.page.elements.error = $(".error");

    CustomerApp.page.commands.createCustomer = () => {
        CustomerApp.page.elements.btnCreateCustomer.on('click', () => {
            customer.fullName = CustomerApp.getValue(CustomerApp.page.elements.nameCreate);
            customer.customerCode = CustomerApp.getValue(CustomerApp.page.elements.codeCreate);

            customer.group = {
                id: CustomerApp.page.elements.customerGroupCreate.find(":selected").val()
            };

            customer.phoneNumber = CustomerApp.getValue(CustomerApp.page.elements.phoneCreate);
            customer.email = CustomerApp.getValue(CustomerApp.page.elements.emailCreate);
            customer.birthday = CustomerApp.getValue(CustomerApp.page.elements.birthdayCreate);
            customer.gender = CustomerApp.page.elements.genderCreate.find(":selected").val();
            customer.fax = CustomerApp.getValue(CustomerApp.page.elements.faxCreate);
            customer.taxCode = CustomerApp.getValue(CustomerApp.page.elements.taxCodeCreate);
            customer.website = CustomerApp.getValue(CustomerApp.page.elements.websiteCreate);
            customer.debtTotal = CustomerApp.getValue(CustomerApp.page.elements.debtTotal);
            customer.spendTotal = CustomerApp.getValue(CustomerApp.page.elements.spendTotal);
            customer.employeeId = CustomerApp.page.elements.employeeNameCreate.find(":selected").val();
            customer.description = CustomerApp.getValue(CustomerApp.page.elements.descriptionCreate);
            customer.tags = CustomerApp.getValue(CustomerApp.page.elements.tagCreate);

            createAddressParam.provinceName = CustomerApp.page.elements.province.find(":selected").text();
            createAddressParam.provinceId = CustomerApp.page.elements.province.find(":selected").val();
            createAddressParam.districtName = CustomerApp.page.elements.district.find(":selected").text();
            createAddressParam.districtId = CustomerApp.page.elements.district.find(":selected").val();
            createAddressParam.wardName = CustomerApp.page.elements.ward.find(":selected").text();
            createAddressParam.wardId = CustomerApp.page.elements.ward.find(":selected").val();
            createAddressParam.line1 = CustomerApp.getValue(CustomerApp.page.elements.addressCreate);

            customer.createAddressParam = createAddressParam;

            console.log(customer)

            $.ajax({
                "headers": {
                    "accept": "application/json",
                    "content-type": "application/json"
                },
                "type": "POST",
                "url": origin + "/api/customers/create",
                "data": JSON.stringify(customer)
            })
                .done((data) => {
                    CustomerApp.IziToast.showSuccessAlert("Tạo khách hàng thành công");

                    setTimeout(() => {
                    }, 2500)
                    CustomerApp.page.elements.frmCreateCustomer[0].reset();
                    // window.location.href = `/admin/customers/${data.id}`;

                })
                .fail((jqXHR) => {
                    console.log(jqXHR);

                    CustomerApp.IziToast.showErrorAlert(CustomerApp.AlertMessageVi.ERROR_400)
                })
        });
    }


    CustomerApp.page.commands.getAllProvinces = () => {
        return $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "GET",
            url: "https://vapi.vnappmob.com/api/province/"
        })
            .done((data) => {
                if (data.results.length === 0) {
                    let str = `<option value="0">Chọn Tỉnh/Thành Phố</option>`;
                    CustomerApp.page.elements.province.append(str);
                } else {
                    $.each(data.results, (i, item) => {
                        let str = `<option value="${item.province_id}">${item.province_name}</option>`;
                        CustomerApp.page.elements.province.append(str);
                        CustomerApp.page.elements.provinceUpdate.append(str);
                    });
                }
            })
            .fail((jqXHR) => {
                console.log(jqXHR);
            })
    }

    CustomerApp.page.commands.getAllDistrictsByProvinceId = (provinceId) => {
        CustomerApp.page.elements.district.empty();
        CustomerApp.page.elements.districtUpdate.empty();
        return $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "GET",
            url: "https://vapi.vnappmob.com/api/province/district/" + provinceId
        })
            .done((data) => {
                if (data.results.length === 0) {
                    let str = `<option value="0">Chọn Quận/Huyện</option>`;
                    CustomerApp.page.elements.district.append(str);
                } else {
                    $.each(data.results, (i, item) => {
                        let str = ` <option value="${item.district_id}">${item.district_name}</option>`;
                        CustomerApp.page.elements.district.append(str);
                        CustomerApp.page.elements.districtUpdate.append(str);
                    })
                }
            })
            .fail((jqXHR) => {
                console.log(jqXHR);
            })
    }

    CustomerApp.page.commands.getAllWardsByDistrictId = (districtId) => {
        CustomerApp.page.elements.ward.empty();
        CustomerApp.page.elements.wardUpdate.empty();
        return $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "GET",
            url: "https://vapi.vnappmob.com/api/province/ward/" + districtId
        })
            .done((data) => {

                if (data.results.length === 0) {
                    let str = `<option value="0">Chọn Phường/Xã</option>`;
                    CustomerApp.page.elements.ward.append(str);

                } else {
                    $.each(data.results, (i, item) => {
                        let str = `<option value="${item.ward_id}">${item.ward_name}</option>`;
                        CustomerApp.page.elements.ward.append(str);
                        CustomerApp.page.elements.wardUpdate.append(str);
                    });
                }
            })
            .fail((jqXHR) => {
                console.log(jqXHR);
            })
    }

    CustomerApp.page.commands.getAllProvinces().then(() => {
        let provinceId = CustomerApp.page.elements.province.val();

        CustomerApp.page.commands.getAllDistrictsByProvinceId(provinceId).then(() => {

            let districtId = CustomerApp.page.elements.district.val();

            CustomerApp.page.commands.getAllWardsByDistrictId(districtId)

        });
    });

    CustomerApp.page.elements.province.on('change', () => {
        let provinceId = CustomerApp.page.elements.province.val();

        CustomerApp.page.commands.getAllDistrictsByProvinceId(provinceId).done(() => {
            let districtId = CustomerApp.page.elements.district.val();
            CustomerApp.page.commands.getAllWardsByDistrictId(districtId);
        })

        CustomerApp.page.elements.district.on('change', () => {
            let districtId = CustomerApp.page.elements.district.val();
            CustomerApp.page.commands.getAllWardsByDistrictId(districtId);
        })
    });

    CustomerApp.page.elements.provinceUpdate.on("change", () => {
        let provinceId = CustomerApp.page.elements.provinceUpdate.val();

        CustomerApp.page.commands.getAllDistrictsByProvinceId(provinceId).then(() => {
            let districtId = CustomerApp.page.elements.districtUpdate.val();
            CustomerApp.page.commands.getAllWardsByDistrictId(districtId);
        })
    })

    CustomerApp.page.elements.districtUpdate.on("change", () => {
        let districtId = CustomerApp.page.elements.districtUpdate.val();
        CustomerApp.page.commands.getAllWardsByDistrictId(districtId);
    });


    CustomerApp.page.commands.getAllEmployeeSelect = () => {
        return $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "GET",
            url: origin + "/api/employees"
        })
            .done((data) => {
                $.each(data, (i, item) => {
                    let str = `<option value="${item.id}">${item.fullName}</option>`;
                    CustomerApp.page.elements.employeeNameCreate.append(str);
                });
            })
            .fail((jqXHR) => {
                console.log(jqXHR);
            })
    }

    CustomerApp.page.commands.getAllCustomerGroup = () => {
        return $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "GET",
            url: origin + "/api/customer_groups"
        })
            .done((data) => {
                $.each(data, (i, item) => {
                    let str = `<option value="${item.id}">${item.title}</option>`;
                    CustomerApp.page.elements.customerGroupCreate.append(str);
                });
            })
            .fail((jqXHR) => {
                console.log(jqXHR);
            })
    }

    CustomerApp.page.commands.getAllCustomerGender = () => {
        return $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "GET",
            url: origin + "/api/customers/customerGender"
        })
            .done((data) => {
                $.each(data, (i, item) => {
                    let str = `<option value="${item}">${item}</option>`;
                    CustomerApp.page.elements.genderCreate.append(str);
                });
            })
            .fail((jqXHR) => {
                console.log(jqXHR);
                if (jqXHR.responseJSON) {
                    $.each(jqXHR.responseJSON, (key, item) => {
                        CustomerApp.IziToast.showErrorAlert(item);
                    })
                }
            })
    }

    CustomerApp.page.elements.btnCloseCustomer.on('click', () => window.location.href = "/admin/customers");


    CustomerApp.page.commands.createCustomer();
    // CustomerApp.page.commands.getAllCustomerGender();
    CustomerApp.page.commands.getAllCustomerGroup();
    CustomerApp.page.commands.getAllEmployeeSelect();

    CustomerApp.page.elements.frmCreateCustomer.validate({
        rules: {
            nameCreate: {
                required: true
            }
        },
        messages: {
            nameCreate: {
                required: "Vui lòng nhập tên khách hàng",
            }
        },
        submitHandler: () => {
            CustomerApp.page.commands.createCustomer();
        }
    });

    $(() => {
        CustomerApp.page.commands.getAllPaymentMethod();
        CustomerApp.page.commands.selectPaymentMethod();
    })

    //start create default pricing policy
    CustomerApp.page.commands.showModalCreatePricePolicy = () => {
        CustomerApp.page.elements.modalCreatePricePolicy.modal("show");
    }
    //create price policy
    CustomerApp.page.commands.createPricePolicy = () => {
        let title = CustomerApp.getValue(CustomerApp.page.elements.titlePricePolicyCre);
        let pricingPolicyCode = CustomerApp.getValue(CustomerApp.page.elements.pricingPolicyCodeCre);

        let pricingPolicy = {
            title,
            pricingPolicyCode,
            pricingPolicyType: $('input[name="policyStyle"]:checked').val()
        }

        $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "POST",
            url: origin + "/api/pricing-policies",
            data: JSON.stringify(pricingPolicy)
        }).done((data) => {
            let str = `<a class="jss23775 selectPricePolicy" data-id="${data.id}" data-value="${data.title}">
                         ${data.title}
                       </a>`;

            CustomerApp.page.elements.listPricePolicy.prepend(str);
            CustomerApp.IziToast.showSuccessAlert("Thêm mới chính sách giá thành công")
            CustomerApp.page.elements.modalCreatePricePolicy.modal("hide");
            CustomerApp.page.elements.frmCreatePricePolicy[0].reset();
            CustomerApp.page.commands.selectPricePolicy();
        })
            .fail((jqXHR) => {
                console.log(jqXHR)
                let errors = jqXHR.responseJSON.errors;

                if (errors.title) {
                    CustomerApp.showErrorValidate(CustomerApp.page.elements.titleError, errors.title)
                }
                if (errors.pricingPolicyCode) {
                    CustomerApp.showErrorValidate(CustomerApp.page.elements.pricingPolicyCodeError, errors.pricingPolicyCode)
                }
                if (errors.pricingPolicyType) {
                    CustomerApp.showErrorValidate(CustomerApp.page.elements.pricingPolicyTypeError, errors.pricingPolicyType)
                }
            })
    }

    CustomerApp.page.commands.getDefaultPricingPolicy = () => {
        return $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "GET",
            url: origin + "/api/pricing-policies"
        })
            .done((data) => {
                data.forEach(item => {
                    let str = `<a class="jss23775 selectDefaultPricePolicy" data-id="${item.id}" data-value=${item.title}>
                                    ${item.title}
                                </a>`;

                    CustomerApp.page.elements.listPricePolicy.prepend(str);
                    if (item.id === currentCustomerGroup.defaultPricingPolicyId) {
                        let value = item.title;
                        CustomerApp.page.elements.selectedPriceDefault.text(value);
                    }
                });
                CustomerApp.page.commands.selectDefaultPricePolicy();
            })
            .fail((jqXHR) => {
                console.log(jqXHR)
            })
    }

    CustomerApp.page.elements.btnCloseCreatePricePolicyModal.click(() => {
        CustomerApp.page.elements.frmCreatePricePolicy.validate().resetForm();
        CustomerApp.page.elements.frmCreatePricePolicy[0].reset();
        CustomerApp.page.elements.error.removeClass('show').addClass('hidden');
    })

    CustomerApp.page.elements.btnCreatePricePolicy.on("click", () => {
        CustomerApp.page.elements.frmCreatePricePolicy.trigger("submit");
    })

    CustomerApp.page.elements.frmCreatePricePolicy.validate({
        rules: {
            titlePricePolicyCre: {
                required: true,
                maxlength: 50,
            },
            pricingPolicyCodeCre: {
                required: true,
                maxlength: 50,
            },
            policyStyle: {
                required: true,
            }
        },
        messages: {
            titlePricePolicyCre: {
                required: "Tên chính sách giá không được để trống",
                maxlength: "Tên chính sách giá không được vượt quá 50 ký tự"
            },
            pricingPolicyCodeCre: {
                required: "Mã chính sách giá không được để trống",
                maxlength: "Mã chính sách giá không được vượt quá 50 ký tự"
            },
            policyStyle: {
                required: "Vui lòng chọn loại chính sách giá"
            }
        },
        showErrors: (error) => {
            if (error.titlePricePolicyCre) {
                CustomerApp.showErrorValidate(CustomerApp.page.elements.titleError, error.titlePricePolicyCre);
            }
            if (error.pricingPolicyCodeCre) {
                CustomerApp.showErrorValidate(CustomerApp.page.elements.pricingPolicyCodeError, error.pricingPolicyCodeCre);
            }
            if (error.policyStyle) {
                CustomerApp.showErrorValidate(CustomerApp.page.elements.pricingPolicyTypeError, error.policyStyle);
            }
        },
        submitHandler: () => {
            CustomerApp.page.commands.createPricePolicy();
        },
    });
    //end create default pricing policy

    CustomerApp.page.commands.selectDefaultPricePolicy = () => {
        $(".selectDefaultPricePolicy").on('click', function () {
            currentCustomerGroup.defaultPricingPolicyId = $(this).data('id');
            let value = $(this).data('value');

            CustomerApp.page.elements.selectedPriceDefault.text(value);
            CustomerApp.page.elements.defaultPriceDropdown[0].classList.toggle("show")
        })
    }

    CustomerApp.page.commands.showDefaultPricingPolicyDropdown = () => {
        CustomerApp.page.elements.defaultPriceDropdown[0].classList.toggle('show');
    }

    //start payment method
    CustomerApp.page.commands.getAllPaymentMethod = () => {
        return $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "GET",
            url: origin + "/api/admin/payment_methods"
        })
            .done((data) => {
                data.forEach(item => {
                    let str = `<option value=${item.id} class="selectedPaymentMethod diplSI">${item.title}</option>`;

                    CustomerApp.page.elements.dropdownPaymentMethod.append(str);
                });
                CustomerApp.page.commands.selectPaymentMethod();
            })
            .fail((jqXHR) => {
                console.log(jqXHR)
            })
    }

    CustomerApp.page.commands.selectPaymentMethod = () => {
        $(".selectedPaymentMethod").click(function () {
            customer.defaultPaymentMethodId = $(this).val();
        })
    }
    //end payment method

    $("#customerRadio, #customerGroupRadio").change(() => {
        ($("#customerRadio").is(":checked"))
            ? CustomerApp.page.elements.offer.show()
            : CustomerApp.page.elements.offer.hide();
    });

</script>
</html>