<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi-VN" class="sapo-menu-expand sapo-menu-toggle-active">
<head>
    <title>Danh sách khách hàng</title>

    <th:block th:replace="/layout/header"/>

    <link rel="stylesheet" href="/assets/admin/css/customer/customer.css"/>
    <link rel="stylesheet" href="/assets/admin/css/customer/filter.css"/>
</head>
<body>
<div>
    <th:block th:replace="/layout/menu"/>
    <th:block th:replace="/admin/customer/modal_importFile"/>

    <div class="col-right MuiBox-root jss64 jss40">
        <div class="MuiBox-root jss440" id="header">
            <h3 class="MuiTypography-root MuiTypography-h3">Khách hàng</h3>
            <div class="MuiBox-root jss441">
                <div class="MuiBox-root jss442">
                    <svg class="MuiSvgIcon-root jss443" focusable="false" viewBox="0 0 24 24" color="#A2A8AF"
                         aria-hidden="true">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z">
                        </path>
                    </svg>
                    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextPrimary">
                        Vay vốn kinh doanh
                    </p>
                </div>
                <div class="MuiBox-root jss442">
                    <svg class="MuiSvgIcon-root jss443" focusable="false" viewBox="0 0 20 20" color="#A2A8AF"
                         aria-hidden="true">
                        <path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor"
                              d="M9.99992 0.833374C4.93992 0.833374 0.833252 4.94004 0.833252 10C0.833252 15.06 4.93992 19.1667 9.99992 19.1667C15.0599 19.1667 19.1666 15.06 19.1666 10C19.1666 4.94004 15.0599 0.833374 9.99992 0.833374ZM9.08325 16.4167V14.5834H10.9166V16.4167H9.08325ZM11.9891 10.1559L12.8141 9.31254C13.3366 8.79004 13.6666 8.05671 13.6666 7.25004C13.6666 5.22421 12.0258 3.58337 9.99992 3.58337C7.97409 3.58337 6.33325 5.22421 6.33325 7.25004H8.16659C8.16659 6.24171 8.99158 5.41671 9.99992 5.41671C11.0083 5.41671 11.8333 6.24171 11.8333 7.25004C11.8333 7.75421 11.6316 8.21254 11.2924 8.54254L10.1558 9.69754C9.49575 10.3667 9.08325 11.2834 9.08325 12.2917V12.75H10.9166C10.9166 11.375 11.3291 10.825 11.9891 10.1559Z">
                        </path>
                    </svg>
                    <p class="MuiTypography-root MuiTypography-body1 MuiTypography-colorTextPrimary">
                        Trợ giúp
                    </p>
                </div>
                <div class="MuiBox-root jss442">
                    <svg class="MuiSvgIcon-root jss443"
                         focusable="false"
                         viewBox="0 0 16 14"
                         color="#A2A8AF"
                         aria-hidden="true">
                        <path d="M8 14C5.10929 11.4904 0 8.36868 0 4.19619C0 1.84632 1.936 0 4.4 0C5.792 0 7.128 0.578989 8 1.55556C8.872 0.578989 10.208 0 11.6 0C14.064 0 16 1.84632 16 4.19619C16 8.36185 10.8971 11.5039 8 14Z"
                              fill="currentColor">
                        </path>
                    </svg>
                    <p class="MuiTypography-root MuiTypography-body1 jss24476">
                        Góp ý
                    </p>
                </div>
                <div class="MuiBox-root jss442">
                    <div class="sb-avatar sb-avatar--text me-2 jss24477">
                        <div class="sb-avatar__text jss24478" title="SKT">
                            <div class="jss24479">
                                <span class="jss24480">
                                    <span>S</span>
                                </span>
                            </div>
                        </div>
                    </div>
                    <p class="MuiTypography-root jss445 MuiTypography-body1 MuiTypography-colorTextPrimary">
                        SKT
                    </p>
                    <svg class="MuiSvgIcon-root arrow-avatar"
                         focusable="false"
                         viewBox="0 0 24 24"
                         aria-hidden="true">
                        <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path>
                    </svg>
                </div>
            </div>
        </div>
        <div class="MuiBox-root jss6732">
            <div class="MuiBox-root jss6733">
                <div class="MuiBox-root jss6756 jss6741">
                    <a th:href="@{/admin/customers/export/excel}"
                       style="text-decoration: none; color: rgba(0,0,0,0.89)">
                        <button class="MuiButtonBase-root MuiButton-rloot MuiButton-text jss6759 MuiButton-textSizeSmall MuiButton-sizeSmall"
                                tabindex="0" type="button">
                      <span class="MuiButton-label">
                        <span class="MuiButton-startIcon MuiButton-iconSizeSmall">
                          <svg class="MuiSvgIcon-root jss6758" focusable="false" viewBox="0 0 14 20" aria-hidden="true">
                              <path d="M6 8.74228e-08L6 12.17L2.41 8.59L1 10L7 16L13 10L11.59 8.59L8 12.17L8 0L6 8.74228e-08Z"
                                    fill="currentColor">
                              </path>
                              <path d="M0 18H14V20H0V18Z" fill="currentColor">
                              </path>
                            </svg>
                        </span>
                          Xuất file
                      </span>
                            <span class="MuiTouchRipple-root">
                      </span>
                        </button>
                    </a>
                    <div class="MuiBox-root jss6793">
                    </div>
                    <button id="importFileCustomers" tabindex="0" type="button"
                            class="MuiButtonBase-root MuiButton-root MuiButton-text jss6759 MuiButton-textSizeSmall MuiButton-sizeSmall">
                      <span class="MuiButton-label">
                        <span class="MuiButton-startIcon MuiButton-iconSizeSmall">
                          <svg class="MuiSvgIcon-root jss6758" focusable="false" viewBox="0 0 14 20" aria-hidden="true">
                            <path d="M8.00003 16L8.00003 3.83001L11.59 7.41001L13 6.00001L7.00003 1.29539e-06L1.00002 6.00001L2.41002 7.41001L6.00002 3.83001L6.00002 9.91501L6.00002 16L8.00003 16Z"
                                  fill="currentColor">
                            </path>
                            <path d="M14 20L1.90735e-06 20L2.08219e-06 18L14 18L14 20Z" fill="currentColor">
                            </path>
                          </svg>
                        </span>
                          Nhập file
                      </span>
                    </button>
                </div>
                <div class="MuiBox-root jss6741">
                    <div class="cKOfva">
                        <a id="Sapo-Button-4967a07b-9f63-4c0e-bfd9-3ad94f06186c"
                           class="fEHNKi text-white"
                           href="/admin/customers/create">
                            <svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path>
                            </svg>
                            Thêm khách hàng
                        </a>
                    </div>
                </div>
            </div>
            <div class="MuiBox-root jss6800 jss6734">
                <div class="MuiBox-root jss6801 jss6735">
                    <div class="sc-hZFzCs cTUhMx">
                        <div id="scroller"
                             class="sc-cHPgQl hYUFnd">
                            <div class="sc-gHLcSH ieIWRo">
                                <button class="sc-KfMfS dvtKJo">
                                    <a href="/admin/customers" style="text-decoration: none">
                                        Tất cả khách hàng
                                    </a>
                                </button>
                                <button class="sc-KfMfS dvtKJo">
                                    <a href="#" style="text-decoration: none">
                                        Đang giao dịch
                                    </a>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="MuiBox-root jss6802 jss6736 d-flex justify-content-between">
                        <div class="sc-hjriPb elNOYP">
                            <div class="sc-himrzO gTRFtW sc-gUAEMC dYvjic">
                                <div class="sc-jIZahH hISLMV Sapo-InputRoot input-group">
                                    <div class="sc-gicCDI sc-ezWOiH bqqjdk kZUaKd">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                                             class="sc-hsOonA echsof">
                                            <path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor"
                                                  d="M14.891 13.477a6.002 6.002 0 0 0-9.134-7.72 6 6 0 0 0 7.72 9.134l5.715 5.716 1.415-1.415-5.716-5.715Zm-2.063-6.305a4 4 0 1 1-5.656 5.656 4 4 0 0 1 5.657-5.656Z">
                                            </path>
                                        </svg>
                                    </div>
                                    <label style="width: 100%">
                                        <input id="inp-search" type="text"
                                               placeholder="Tìm kiếm theo mã khách hàng, tên, SĐT khách hàng"
                                               class="sc-ikZpkk iYDwCJ form-control searchTitle">
                                    </label>
                                    <fieldset class="sc-iIPllB iUBRZb"></fieldset>
                                </div>
                            </div>
                        </div>
                        <div role="group" class="MuiButtonGroup-root jss6803">
                            <button type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample"
                                    aria-controls="offcanvasExample"
                                    id="Sapo-Button-36500209-3250-443b-accc-5a44188f93d4" class="sc-jqUVSM jDWLfh ">
                                <span class="sc-papXJ ffDJGn me-2">
                                    <span class="MuiTypography-root MuiTypography-body1 ">
                                        Bộ lọc
                                    </span>
                                </span>
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" width="20"
                                     height="20" style="font-size: 20px; color: rgb(163, 168, 175);">
                                    <path d="M20.052 3.667H4.5v1.296h15.552V3.667ZM4.811 5.74l5.988 6.066c.078.077.181.181.181.285v8.242l2.592-1.4v-6.842c0-.104.104-.208.182-.285L19.74 5.74H4.811Z"
                                          fill="currentColor">
                                    </path>
                                </svg>
                            </button>
<<<<<<< HEAD
                            <button disabled="" id="btn-save-search" class="sc-jqUVSM gMKSKz">
                                <span class="sc-papXJ jcEYKF">Lưu bộ lọc</span>
                            </button>
=======
                            <button disabled="" id="btn-save-search" class="sc-jqUVSM gMKSKz"><span class="sc-papXJ jcEYKF">Lưu bộ lọc</span></button>
>>>>>>> 71642ef35d224f631ff2cb70f4fbce277fe589fc
                        </div>
                    </div>
                </div>
<<<<<<< HEAD
                <div class="table-responsive font-sm">
                    <table id="tbCustomer" class="table table-hover mt-2" style="width: 100%;">
                        <thead>
                        <tr>
                            <th class="align-middle">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <button type="button" class="btn btnGear">
                                            <i class="fa-solid fa-gear"></i>
                                        </button>
                                    </div>
                                    <div class="d-flex">
                                        <label for="checkAll" class="checkAll">
                                            <input id="checkAll" type="checkbox" data-bs-toggle="tooltip"
                                                   data-bs-placement="top" title="Tất cả"
                                                   data-kt-check="true"
                                                   data-kt-check-target="#tbCustomer .form-check-input" value="1"
                                                   class="form-check-input"/>
                                        </label>
                                    </div>
                                </div>
=======

                <div class="MuiBox-root jss2434">
                    <div class="jss2435" id="filterLabel">

                    </div>
                </div>
                <div style="font-size:small" id="tableCheckbox">
                    <table id="tbCustomer" class="table table-hover" style="width: 100%;">
                        <thead style="background-color: #f4f6f8; height: 55px">
                        <tr>
                            <th class="align-middle" style="width:30px">
                                <i class="fa-solid fa-gear" style="float: left;" data-toggle="modal" data-target="#modal-config-table"></i>
                                <!-- <input style="cursor:pointer" id="checkAll" type="checkbox" value=""
                                data-bs-toggle="tooltip" data-bs-placement="top" title="Tất cả" style="float: right;"/ -->

                                <label for="checkAll" style="cursor:pointer; float: right;">
                                    <input style="cursor:pointer" id="checkAll" type="checkbox" value=""
                                           data-bs-toggle="tooltip" data-bs-placement="top" title="Tất cả" onchange="checkAllSelect()">
                                </label>
>>>>>>> 71642ef35d224f631ff2cb70f4fbce277fe589fc
                            </th>
                            <th class="align-middle" scope="col">Tên khách hàng</th>
                            <th class="align-middle" scope="col">Mã khách hàng</th>
<<<<<<< HEAD
=======
                            <th class="align-middle" scope="col">Tên khách hàng</th>
>>>>>>> 71642ef35d224f631ff2cb70f4fbce277fe589fc
                            <th class="align-middle" scope="col">Số điện thoại</th>
                            <th class="align-middle" scope="col">Nhóm khách hàng</th>
                            <th class="align-middle" scope="col">Công nợ hiện tại</th>
                            <th class="align-middle" scope="col">Tổng chi tiêu</th>
                            <th class="align-middle" scope="col">Tổng SL đơn hàng</th>
                        </tr>
                        <!-- <tr class="hide" id="selectActionThead" style="border: snow">
                            <td class="align-middle" style="width: 20px">
                                <label for="selectAction" style="padding: 0.5rem; cursor:pointer">
                                    <input style="cursor:pointer" id="selectAction" type="checkbox" value="">
                                </label>
                            </td>
                            <td colspan="2" class="align-middle" id="numberSelectProductList" style="width: 24%">
                            </td>
<<<<<<< HEAD
                            <!-- <td class="align-middle" colspan="2">
                                <div class="btn-group">
                                    <button class="btn dropdown-toggle btnDropdown me-2" type="button"
                                            data-bs-toggle="dropdown" aria-expanded="false">
                                        Chọn thao tác
                                        <i class="fa-solid fa-sort-down" style="padding-left: 2.3rem"></i>
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton2">
                                        <li>
                                            <button class="dropdown-item btnDropdown" id="btnCheckInventory">
                                                Kiểm tra tồn kho
                                            </button>
                                        </li>
                                        <li>
                                            <button class="dropdown-item btnDropdown" id="btnAvailable">
                                                Đang giao dịch
                                            </button>
                                        </li>
                                        <li>
                                            <button class="dropdown-item btnDropdown" id="btnUnavailable">
                                                Ngừng giao dịch
                                            </button>
                                        </li>
                                        <li>
                                            <button class="dropdown-item btnDropdown" id="btnDelete">
                                                Xóa sản phẩm
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </td> -->
=======
>>>>>>> 71642ef35d224f631ff2cb70f4fbce277fe589fc
                            <td colspan="5"></td>
                        </tr> -->
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
<<<<<<< HEAD
                </div>
=======
>>>>>>> 71642ef35d224f631ff2cb70f4fbce277fe589fc
            </div>
        </div>
    </div>

<<<<<<< HEAD
    <th:block th:replace="/admin/customer/modal_available"/>
    <th:block th:replace="/admin/customer/modal_unavailable"/>
    <th:block th:replace="/admin/customer/modal_delete"/>
    <th:block th:replace="/admin/customer/modal_check_inventory"/>
    <th:block th:replace="/admin/customer/modal_filter"/>
    <th:block th:replace="/layout/script"/>

    <script src="/assets/admin/js/customer/customer_app.js"></script>
    <!--    <script src="/assets/admin/js/product/app.js"></script>-->
    <script>
        // let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        // let tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        //     return new bootstrap.Tooltip(tooltipTriggerEl)
        // })
    </script>

    <script>
        // const myOffcanvas = document.getElementById('offcanvasExample');
        // const bsOffcanvas = new bootstrap.Offcanvas(myOffcanvas);

        // const changes = [];
        // let totalPage;
        // let sortPage = {"type": "des", "value": "id"};
        // let arrayIdCustomer = [];

        //list customer start

        CustomerApp.page.elements.tbCustomer = $("#tbCustomer");

        CustomerApp.page.elements.btnAvailable = $("#btnAvailable");
        CustomerApp.page.elements.btnUnavailable = $("#btnUnavailable");
        CustomerApp.page.elements.btnDelete = $("#btnDelete");
        CustomerApp.page.elements.btnAvailableSave = $("#btnAvailableSave");
        CustomerApp.page.elements.btnUnavailableSave = $("#btnUnavailableSave");
        CustomerApp.page.elements.btnSubmitDelete = $("#btnSubmitDelete");
        CustomerApp.page.elements.btnCreatAtSort = $("#btnCreatAtSort");
        CustomerApp.page.elements.btnImportFileCustomers = $('#btnImportFileCustomers');
        CustomerApp.page.elements.btnSaveSearch = $('#btn-save-search');

        CustomerApp.page.elements.totalPage = $("#totalPage");
        CustomerApp.page.elements.pageNo = $("#pageNo");
        CustomerApp.page.elements.pageSize = $("#pageSize");
        CustomerApp.page.elements.search = $("#inp-search");

        CustomerApp.page.elements.checkAll = $("#checkAll");
        CustomerApp.page.elements.checkboxes = $(".checkboxes")
        CustomerApp.page.elements.selectAction = $("#selectAction");

        CustomerApp.page.elements.selectActionThead = $("#selectActionThead");
        CustomerApp.page.elements.numberSelectCustomerList = $("#numberSelectCustomerList");
        CustomerApp.page.elements.statusChangeForNumberCustomerList = $("#statusChange");
        CustomerApp.page.elements.statusChangeForNumberToUnavailable = $("#statusChangeUnavailable");
        CustomerApp.page.elements.statusChangeForNumberDelete = $("#statusChangeDelete");
=======
<!-- <script href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script> -->
<th:block th:replace="/admin/customer/modal-config-table.html"/>
<th:block th:replace="/admin/customer/modal_filter::modal_filter"/>
<th:block th:replace="/layout/script :: script"/>
>>>>>>> 71642ef35d224f631ff2cb70f4fbce277fe589fc

        CustomerApp.page.elements.modalAvailable = $("#modalAvailable");
        CustomerApp.page.elements.modalUnavailable = $("#modalUnavailable");
        CustomerApp.page.elements.modalDelete = $("#modalDelete");
        CustomerApp.page.elements.modalImportFileCustomers = $('#modalImportFileCustomers');

        CustomerApp.page.dialogs.elements.status = $("#status");
        CustomerApp.page.dialogs.elements.groupCustomer = $("#ddl-group-customer");
        CustomerApp.page.dialogs.elements.status = $("#ddl-status");
        CustomerApp.page.dialogs.elements.nextPage = $("#nextPage");
        CustomerApp.page.dialogs.elements.previousPage = $("#previousPage");

        CustomerApp.page.elements.formFileCustomers = $('#formFileCustomers');
        CustomerApp.page.elements.frmFileCustomers = $('#frmFileCustomers');

        CustomerApp.page.elements.importFile = $("#importFileCustomers");

<<<<<<< HEAD
        CustomerApp.page.elements.loading = $(".modal-content .modal-header .loader");

        //customer end

        //modal filter start
=======
    let page = {
        urls: {
            getAllCustomers: CustomerApp.BASE_URL_CUSTOMER,
            getGroupCustomerById: CustomerApp.BASE_URL_CUSTOMER + "/groupCustomer",
            getAllStatus: CustomerApp.BASE_URL_CUSTOMER + "/status",
            updateStatusAvailable: CustomerApp.BASE_URL_CUSTOMER + "/updateStatusAvailable",
            updateStatusUnavailable: CustomerApp.BASE_URL_CUSTOMER + "/updateStatusUnavailable",
            deleteProduct: CustomerApp.BASE_URL_CUSTOMER + "/delete",
            getAllCustomerGroup: CustomerApp.BASE_URL_CUSTOMER_GROUP,
                

        },
        elements: {},
        loadData: {},
        commands: {},
        dialogs: {
            elements: {},
            loadData: {},
            commands: {},
        },
        initializeEventControl: {},
        util:{}
    }
>>>>>>> 71642ef35d224f631ff2cb70f4fbce277fe589fc

        CustomerApp.page.elements.btnDropdown = $(".btnDropdown");
        CustomerApp.page.elements.btnFilter = $("#btnFilter");
        CustomerApp.page.elements.btnSaveSearch = $("#btn-save-search");
        CustomerApp.page.elements.btnCloseFilter = $("#btnCloseFilter");
        CustomerApp.page.elements.filterLabel = $("#filterLabel");
        CustomerApp.page.elements.btnDeleteFilterGroupLabel = $("#btnDeleteFilterGroupLabel");
        CustomerApp.page.elements.divDeleteFilterGroupLabel = ("#divDeleteFilterGroupLabel");
        CustomerApp.page.elements.employeeNameFilter = $("#employeeNameFilter");
        CustomerApp.page.elements.datepicker = $("#datepicker");
        CustomerApp.page.elements.datepicker2 = $("#datepicker2");
        CustomerApp.page.elements.datepicker3 = $("#datepicker3");
        CustomerApp.page.elements.datepicker4 = $("#datepicker4");
        CustomerApp.page.elements.datepicker5 = $("#datepicker5");
        CustomerApp.page.elements.allDay = $("#allDay");
        CustomerApp.page.elements.allYear = $("#allYear");
        CustomerApp.page.elements.genderFilter = $("#genderFilter")

        //modal filter end

        let dataTable;
        let customerFilter;
        const KEY_CUSTOMER_FILTER_SAVE = "customer_filter";

<<<<<<< HEAD
        class CustomerFilter {
            constructor() {
                this.id = null;
                this.keyword = null;
                this.customerCode = null;
                this.groupIds = [];
                this.gender = null;
                this.dayOfBirthday = null;
                this.monthOfBirthday = null;
                this.employeeIds = [];
                this.statusList = [];
                this.createdFrom = null;
                this.createdTo = null;
            }
        }

        // let i;

        let checkCustomerFilterChange;


        //filter start

        for (let i = 0; i < CustomerApp.page.elements.btnDropdown.length; i++) {
            CustomerApp.page.elements.btnDropdown[i].addEventListener("click", function () {
                this.classList.toggle("active");
                let dropdownContent = this.nextElementSibling;

                dropdownContent.style.display === "block"
                    ? dropdownContent.style.display = "none"
                    : dropdownContent.style.display = "block";
            })
        }

        // function drawDataTable() {
        //     $("#tbCustomer").DataTable({
        //         // chuyển tiếng việt cho datatable
        //         "processing": true,
        //         "serverSide": true,
        //         "paging": true,
        //         language:
        //             {
        //                 "processing": "Đang xử lý...",
        //                 "aria": {
        //                     "sortAscending": ": Sắp xếp thứ tự tăng dần",
        //                     "sortDescending": ": Sắp xếp thứ tự giảm dần"
        //                 },
        //                 "autoFill": {
        //                     "cancel": "Hủy",
        //                     "fill": "Điền tất cả ô với <i>%d<\/i>",
        //                     "fillHorizontal": "Điền theo hàng ngang",
        //                     "fillVertical": "Điền theo hàng dọc"
        //                 },
        //                 "buttons": {
        //                     "collection": "Chọn lọc <span class=\"ui-button-icon-primary ui-icon ui-icon-triangle-1-s\"><\/span>",
        //                     "colvis": "Hiển thị theo cột",
        //                     "colvisRestore": "Khôi phục hiển thị",
        //                     "copy": "Sao chép",
        //                     "copyKeys": "Nhấn Ctrl hoặc u2318 + C để sao chép bảng dữ liệu vào clipboard.<br \/><br \/>Để hủy, click vào thông báo này hoặc nhấn ESC",
        //                     "copySuccess": {
        //                         "1": "Đã sao chép 1 dòng dữ liệu vào clipboard",
        //                         "_": "Đã sao chép %d dòng vào clipboard"
        //                     },
        //                     "copyTitle": "Sao chép vào clipboard",
        //                     "pageLength": {
        //                         "-1": "Xem tất cả các dòng",
        //                         "_": "Hiển thị %d dòng",
        //                         "1": "Hiển thị 1 dòng"
        //                     },
        //                     "print": "In ấn",
        //                     "createState": "Tạo trạng thái",
        //                     "csv": "CSV",
        //                     "excel": "Excel",
        //                     "pdf": "PDF",
        //                     "removeAllStates": "Xóa hết trạng thái",
        //                     "removeState": "Xóa",
        //                     "renameState": "Đổi tên",
        //                     "savedStates": "Trạng thái đã lưu",
        //                     "stateRestore": "Trạng thái %d",
        //                     "updateState": "Cập nhật"
        //                 },
        //                 "select": {
        //                     "cells": {
        //                         "1": "1 ô đang được chọn",
        //                         "_": "%d ô đang được chọn"
        //                     },
        //                     "columns": {
        //                         "1": "1 cột đang được chọn",
        //                         "_": "%d cột đang được được chọn"
        //                     },
        //                     "rows": {
        //                         "1": "1 dòng đang được chọn",
        //                         "_": "%d dòng đang được chọn"
        //                     }
        //                 },
        //                 "searchBuilder": {
        //                     "title": {
        //                         "_": "Thiết lập tìm kiếm (%d)",
        //                         "0": "Thiết lập tìm kiếm"
        //                     },
        //                     "button": {
        //                         "0": "Thiết lập tìm kiếm",
        //                         "_": "Thiết lập tìm kiếm (%d)"
        //                     },
        //                     "value": "Giá trị",
        //                     "clearAll": "Xóa hết",
        //                     "condition": "Điều kiện",
        //                     "conditions": {
        //                         "date": {
        //                             "after": "Sau",
        //                             "before": "Trước",
        //                             "between": "Nằm giữa",
        //                             "empty": "Rỗng",
        //                             "equals": "Bằng với",
        //                             "not": "Không phải",
        //                             "notBetween": "Không nằm giữa",
        //                             "notEmpty": "Không rỗng"
        //                         },
        //                         "number": {
        //                             "between": "Nằm giữa",
        //                             "empty": "Rỗng",
        //                             "equals": "Bằng với",
        //                             "gt": "Lớn hơn",
        //                             "gte": "Lớn hơn hoặc bằng",
        //                             "lt": "Nhỏ hơn",
        //                             "lte": "Nhỏ hơn hoặc bằng",
        //                             "not": "Không phải",
        //                             "notBetween": "Không nằm giữa",
        //                             "notEmpty": "Không rỗng"
        //                         },
        //                         "string": {
        //                             "contains": "Chứa",
        //                             "empty": "Rỗng",
        //                             "endsWith": "Kết thúc bằng",
        //                             "equals": "Bằng",
        //                             "not": "Không phải",
        //                             "notEmpty": "Không rỗng",
        //                             "startsWith": "Bắt đầu với",
        //                             "notContains": "Không chứa",
        //                             "notEndsWith": "Không kết thúc với",
        //                             "notStartsWith": "Không bắt đầu với"
        //                         },
        //                         "array": {
        //                             "equals": "Bằng",
        //                             "empty": "Trống",
        //                             "contains": "Chứa",
        //                             "not": "Không",
        //                             "notEmpty": "Không được rỗng",
        //                             "without": "không chứa"
        //                         }
        //                     },
        //                     "logicAnd": "Và",
        //                     "logicOr": "Hoặc",
        //                     "add": "Thêm điều kiện",
        //                     "data": "Dữ liệu",
        //                     "deleteTitle": "Xóa quy tắc lọc",
        //                     "leftTitle": "Giảm thụt lề",
        //                     "rightTitle": "Tăng thụt lề"
        //                 },
        //                 "searchPanes": {
        //                     "countFiltered": "{shown} ({total})",
        //                     "emptyPanes": "Không có phần tìm kiếm",
        //                     "clearMessage": "Xóa hết",
        //                     "loadMessage": "Đang load phần tìm kiếm",
        //                     "collapse": {
        //                         "0": "Phần tìm kiếm",
        //                         "_": "Phần tìm kiếm (%d)"
        //                     },
        //                     "title": "Bộ lọc đang hoạt động - %d",
        //                     "count": "{total}",
        //                     "collapseMessage": "Thu gọn tất cả",
        //                     "showMessage": "Hiện tất cả"
        //                 },
        //                 "datetime": {
        //                     "hours": "Giờ",
        //                     "minutes": "Phút",
        //                     "next": "Sau",
        //                     "previous": "Trước",
        //                     "seconds": "Giây",
        //                     "amPm": [
        //                         "am",
        //                         "pm"
        //                     ],
        //                     "unknown": "-",
        //                     "weekdays": [
        //                         "Chủ nhật"
        //                     ],
        //                     "months": [
        //                         "Tháng Một",
        //                         "Tháng Hai",
        //                         "Tháng Ba",
        //                         "Tháng Tư",
        //                         "Tháng Năm",
        //                         "Tháng Sáu",
        //                         "Tháng Bảy",
        //                         "Tháng Tám",
        //                         "Tháng Chín",
        //                         "Tháng Mười",
        //                         "Tháng Mười Một",
        //                         "Tháng Mười Hai"
        //                     ]
        //                 },
        //                 "emptyTable": "Không có dữ liệu",
        //                 "info": "Hiển thị _START_ tới _END_ của _TOTAL_ dữ liệu",
        //                 "infoEmpty": "Hiển thị 0 tới 0 của 0 dữ liệu",
        //                 "lengthMenu": "Hiển thị _MENU_ dữ liệu",
        //                 "loadingRecords": "Đang tải...",
        //                 "paginate": {
        //                     "first": "Đầu tiên",
        //                     "last": "Cuối cùng",
        //                     "next": "Sau",
        //                     "previous": "Trước"
        //                 },
        //                 "search": "Tìm kiếm:",
        //                 "zeroRecords": "Không tìm thấy kết quả",
        //                 "decimal": ",",
        //                 "editor": {
        //                     "close": "Đóng",
        //                     "create": {
        //                         "button": "Thêm",
        //                         "submit": "Thêm",
        //                         "title": "Thêm mục mới"
        //                     },
        //                     "edit": {
        //                         "button": "Sửa",
        //                         "submit": "Cập nhật",
        //                         "title": "Sửa mục"
        //                     },
        //                     "error": {
        //                         "system": "Đã xảy ra lỗi hệ thống (&lt;a target=\"\\\" rel=\"nofollow\" href=\"\\\"&gt;Thêm thông tin&lt;\/a&gt;)."
        //                     },
        //                     "multi": {
        //                         "info": "Các mục đã chọn chứa các giá trị khác nhau cho đầu vào này. Để chỉnh sửa và đặt tất cả các mục cho đầu vào này thành cùng một giá trị, hãy nhấp hoặc nhấn vào đây, nếu không chúng sẽ giữ lại các giá trị riêng lẻ của chúng.",
        //                         "noMulti": "Đầu vào này có thể được chỉnh sửa riêng lẻ, nhưng không phải là một phần của một nhóm.",
        //                         "restore": "Hoàn tác thay đổi",
        //                         "title": "Nhiều giá trị"
        //                     },
        //                     "remove": {
        //                         "button": "Xóa",
        //                         "confirm": {
        //                             "_": "Bạn có chắc chắn muốn xóa %d hàng không?",
        //                             "1": "Bạn có chắc chắn muốn xóa 1 hàng không?"
        //                         },
        //                         "submit": "Xóa",
        //                         "title": "Xóa"
        //                     }
        //                 },
        //                 "infoFiltered": "(được lọc từ _MAX_ dữ liệu)",
        //                 "searchPlaceholder": "Nhập tìm kiếm...",
        //                 "stateRestore": {
        //                     "creationModal": {
        //                         "button": "Thêm",
        //                         "columns": {
        //                             "search": "Tìm kiếm cột",
        //                             "visible": "Khả năng hiển thị cột"
        //                         },
        //                         "name": "Tên:",
        //                         "order": "Sắp xếp",
        //                         "paging": "Phân trang",
        //                         "scroller": "Cuộn vị trí",
        //                         "search": "Tìm kiếm",
        //                         "searchBuilder": "Trình tạo tìm kiếm",
        //                         "select": "Chọn",
        //                         "title": "Thêm trạng thái",
        //                         "toggleLabel": "Bao gồm:"
        //                     },
        //                     "duplicateError": "Trạng thái có tên này đã tồn tại.",
        //                     "emptyError": "Tên không được để trống.",
        //                     "emptyStates": "Không có trạng thái đã lưu",
        //                     "removeConfirm": "Bạn có chắc chắn muốn xóa %s không?",
        //                     "removeError": "Không xóa được trạng thái.",
        //                     "removeJoiner": "và",
        //                     "removeSubmit": "Xóa",
        //                     "removeTitle": "Xóa trạng thái",
        //                     "renameButton": "Đổi tên",
        //                     "renameLabel": "Tên mới cho %s:",
        //                     "renameTitle": "Đổi tên trạng thái"
        //                 },
        //             },
        //         ajax: {
        //             url: origin + '/api/customers/filter',
        //             type: 'POST',
        //             // dataSrc: "content",
        //             contentType: 'application/json',
        //             data: function (d) {
        //                 d.groupIds = customerFilter.groupIds;
        //                 d.gender = customerFilter.gender;
        //                 d.dayOfBirthday = customerFilter.dayOfBirthday;
        //                 d.monthOfBirthday = customerFilter.monthOfBirthday;
        //                 d.employeeIds = customerFilter.employeeIds;
        //                 d.keyword = customerFilter.keyword;
        //                 d.statusList = [];
        //                 console.log(d);
        //                 return JSON.stringify(d)
        //             }
        //         },
        //         lengthMenu: [
        //             [10, 30, 50, 1000000000],
        //             ["10", "30", "50", "All"]
        //         ],
        //         searching: false,
        //         destroy: true,
        //         columns: [
        //             {data: 'id'},
        //             {data: 'customerCode'},
        //             {data: 'fullName'},
        //             {data: 'phoneNumber'},
        //             {data: 'group.title'},
        //             {data: 'debtTotal'},
        //             {data: 'spendTotal'},
        //             {data: "quantityItemOrder"}],
        //         columnDefs: [
        //             {
        //                 targets: 0,
        //                 render: function (data, type, row, meta) {
        //                     return `
        //                        <input type="checkbox" value="check_none" style="float:right"/>
        //                     `
        //                 }
        //             },
        //             {
        //                 targets: 1,
        //                 render: function (data, type, row, meta) {
        //                     return `<a href="/admin/customers/${row.id}" style="text-decoration: none">${row.customerCode}</a>`;
        //                 }
        //             },
        //
        //
        //         ],
        //     })
        // }
        //
        // function findCustomerByGroup(groupId) {
        //     $("#tbCustomer").DataTable({
        //         // chuyển tiếng việt cho datatable
        //         language:
        //             {
        //                 "processing": "Đang xử lý...",
        //                 "aria": {
        //                     "sortAscending": ": Sắp xếp thứ tự tăng dần",
        //                     "sortDescending": ": Sắp xếp thứ tự giảm dần"
        //                 },
        //                 "autoFill": {
        //                     "cancel": "Hủy",
        //                     "fill": "Điền tất cả ô với <i>%d<\/i>",
        //                     "fillHorizontal": "Điền theo hàng ngang",
        //                     "fillVertical": "Điền theo hàng dọc"
        //                 },
        //                 "buttons": {
        //                     "collection": "Chọn lọc <span class=\"ui-button-icon-primary ui-icon ui-icon-triangle-1-s\"><\/span>",
        //                     "colvis": "Hiển thị theo cột",
        //                     "colvisRestore": "Khôi phục hiển thị",
        //                     "copy": "Sao chép",
        //                     "copyKeys": "Nhấn Ctrl hoặc u2318 + C để sao chép bảng dữ liệu vào clipboard.<br \/><br \/>Để hủy, click vào thông báo này hoặc nhấn ESC",
        //                     "copySuccess": {
        //                         "1": "Đã sao chép 1 dòng dữ liệu vào clipboard",
        //                         "_": "Đã sao chép %d dòng vào clipboard"
        //                     },
        //                     "copyTitle": "Sao chép vào clipboard",
        //                     "pageLength": {
        //                         "-1": "Xem tất cả các dòng",
        //                         "_": "Hiển thị %d dòng",
        //                         "1": "Hiển thị 1 dòng"
        //                     },
        //                     "print": "In ấn",
        //                     "createState": "Tạo trạng thái",
        //                     "csv": "CSV",
        //                     "excel": "Excel",
        //                     "pdf": "PDF",
        //                     "removeAllStates": "Xóa hết trạng thái",
        //                     "removeState": "Xóa",
        //                     "renameState": "Đổi tên",
        //                     "savedStates": "Trạng thái đã lưu",
        //                     "stateRestore": "Trạng thái %d",
        //                     "updateState": "Cập nhật"
        //                 },
        //                 "select": {
        //                     "cells": {
        //                         "1": "1 ô đang được chọn",
        //                         "_": "%d ô đang được chọn"
        //                     },
        //                     "columns": {
        //                         "1": "1 cột đang được chọn",
        //                         "_": "%d cột đang được được chọn"
        //                     },
        //                     "rows": {
        //                         "1": "1 dòng đang được chọn",
        //                         "_": "%d dòng đang được chọn"
        //                     }
        //                 },
        //                 "searchBuilder": {
        //                     "title": {
        //                         "_": "Thiết lập tìm kiếm (%d)",
        //                         "0": "Thiết lập tìm kiếm"
        //                     },
        //                     "button": {
        //                         "0": "Thiết lập tìm kiếm",
        //                         "_": "Thiết lập tìm kiếm (%d)"
        //                     },
        //                     "value": "Giá trị",
        //                     "clearAll": "Xóa hết",
        //                     "condition": "Điều kiện",
        //                     "conditions": {
        //                         "date": {
        //                             "after": "Sau",
        //                             "before": "Trước",
        //                             "between": "Nằm giữa",
        //                             "empty": "Rỗng",
        //                             "equals": "Bằng với",
        //                             "not": "Không phải",
        //                             "notBetween": "Không nằm giữa",
        //                             "notEmpty": "Không rỗng"
        //                         },
        //                         "number": {
        //                             "between": "Nằm giữa",
        //                             "empty": "Rỗng",
        //                             "equals": "Bằng với",
        //                             "gt": "Lớn hơn",
        //                             "gte": "Lớn hơn hoặc bằng",
        //                             "lt": "Nhỏ hơn",
        //                             "lte": "Nhỏ hơn hoặc bằng",
        //                             "not": "Không phải",
        //                             "notBetween": "Không nằm giữa",
        //                             "notEmpty": "Không rỗng"
        //                         },
        //                         "string": {
        //                             "contains": "Chứa",
        //                             "empty": "Rỗng",
        //                             "endsWith": "Kết thúc bằng",
        //                             "equals": "Bằng",
        //                             "not": "Không phải",
        //                             "notEmpty": "Không rỗng",
        //                             "startsWith": "Bắt đầu với",
        //                             "notContains": "Không chứa",
        //                             "notEndsWith": "Không kết thúc với",
        //                             "notStartsWith": "Không bắt đầu với"
        //                         },
        //                         "array": {
        //                             "equals": "Bằng",
        //                             "empty": "Trống",
        //                             "contains": "Chứa",
        //                             "not": "Không",
        //                             "notEmpty": "Không được rỗng",
        //                             "without": "không chứa"
        //                         }
        //                     },
        //                     "logicAnd": "Và",
        //                     "logicOr": "Hoặc",
        //                     "add": "Thêm điều kiện",
        //                     "data": "Dữ liệu",
        //                     "deleteTitle": "Xóa quy tắc lọc",
        //                     "leftTitle": "Giảm thụt lề",
        //                     "rightTitle": "Tăng thụt lề"
        //                 },
        //                 "searchPanes": {
        //                     "countFiltered": "{shown} ({total})",
        //                     "emptyPanes": "Không có phần tìm kiếm",
        //                     "clearMessage": "Xóa hết",
        //                     "loadMessage": "Đang load phần tìm kiếm",
        //                     "collapse": {
        //                         "0": "Phần tìm kiếm",
        //                         "_": "Phần tìm kiếm (%d)"
        //                     },
        //                     "title": "Bộ lọc đang hoạt động - %d",
        //                     "count": "{total}",
        //                     "collapseMessage": "Thu gọn tất cả",
        //                     "showMessage": "Hiện tất cả"
        //                 },
        //                 "datetime": {
        //                     "hours": "Giờ",
        //                     "minutes": "Phút",
        //                     "next": "Sau",
        //                     "previous": "Trước",
        //                     "seconds": "Giây",
        //                     "amPm": [
        //                         "am",
        //                         "pm"
        //                     ],
        //                     "unknown": "-",
        //                     "weekdays": [
        //                         "Chủ nhật"
        //                     ],
        //                     "months": [
        //                         "Tháng Một",
        //                         "Tháng Hai",
        //                         "Tháng Ba",
        //                         "Tháng Tư",
        //                         "Tháng Năm",
        //                         "Tháng Sáu",
        //                         "Tháng Bảy",
        //                         "Tháng Tám",
        //                         "Tháng Chín",
        //                         "Tháng Mười",
        //                         "Tháng Mười Một",
        //                         "Tháng Mười Hai"
        //                     ]
        //                 },
        //                 "emptyTable": "Không có dữ liệu",
        //                 "info": "Hiển thị _START_ tới _END_ của _TOTAL_ dữ liệu",
        //                 "infoEmpty": "Hiển thị 0 tới 0 của 0 dữ liệu",
        //                 "lengthMenu": "Hiển thị _MENU_ dữ liệu",
        //                 "loadingRecords": "Đang tải...",
        //                 "paginate": {
        //                     "first": "Đầu tiên",
        //                     "last": "Cuối cùng",
        //                     "next": "Sau",
        //                     "previous": "Trước"
        //                 },
        //                 "search": "Tìm kiếm:",
        //                 "zeroRecords": "Không tìm thấy kết quả",
        //                 "decimal": ",",
        //                 "editor": {
        //                     "close": "Đóng",
        //                     "create": {
        //                         "button": "Thêm",
        //                         "submit": "Thêm",
        //                         "title": "Thêm mục mới"
        //                     },
        //                     "edit": {
        //                         "button": "Sửa",
        //                         "submit": "Cập nhật",
        //                         "title": "Sửa mục"
        //                     },
        //                     "error": {
        //                         "system": "Đã xảy ra lỗi hệ thống (&lt;a target=\"\\\" rel=\"nofollow\" href=\"\\\"&gt;Thêm thông tin&lt;\/a&gt;)."
        //                     },
        //                     "multi": {
        //                         "info": "Các mục đã chọn chứa các giá trị khác nhau cho đầu vào này. Để chỉnh sửa và đặt tất cả các mục cho đầu vào này thành cùng một giá trị, hãy nhấp hoặc nhấn vào đây, nếu không chúng sẽ giữ lại các giá trị riêng lẻ của chúng.",
        //                         "noMulti": "Đầu vào này có thể được chỉnh sửa riêng lẻ, nhưng không phải là một phần của một nhóm.",
        //                         "restore": "Hoàn tác thay đổi",
        //                         "title": "Nhiều giá trị"
        //                     },
        //                     "remove": {
        //                         "button": "Xóa",
        //                         "confirm": {
        //                             "_": "Bạn có chắc chắn muốn xóa %d hàng không?",
        //                             "1": "Bạn có chắc chắn muốn xóa 1 hàng không?"
        //                         },
        //                         "submit": "Xóa",
        //                         "title": "Xóa"
        //                     }
        //                 },
        //                 "infoFiltered": "(được lọc từ _MAX_ dữ liệu)",
        //                 "searchPlaceholder": "Nhập tìm kiếm...",
        //                 "stateRestore": {
        //                     "creationModal": {
        //                         "button": "Thêm",
        //                         "columns": {
        //                             "search": "Tìm kiếm cột",
        //                             "visible": "Khả năng hiển thị cột"
        //                         },
        //                         "name": "Tên:",
        //                         "order": "Sắp xếp",
        //                         "paging": "Phân trang",
        //                         "scroller": "Cuộn vị trí",
        //                         "search": "Tìm kiếm",
        //                         "searchBuilder": "Trình tạo tìm kiếm",
        //                         "select": "Chọn",
        //                         "title": "Thêm trạng thái",
        //                         "toggleLabel": "Bao gồm:"
        //                     },
        //                     "duplicateError": "Trạng thái có tên này đã tồn tại.",
        //                     "emptyError": "Tên không được để trống.",
        //                     "emptyStates": "Không có trạng thái đã lưu",
        //                     "removeConfirm": "Bạn có chắc chắn muốn xóa %s không?",
        //                     "removeError": "Không xóa được trạng thái.",
        //                     "removeJoiner": "và",
        //                     "removeSubmit": "Xóa",
        //                     "removeTitle": "Xóa trạng thái",
        //                     "renameButton": "Đổi tên",
        //                     "renameLabel": "Tên mới cho %s:",
        //                     "renameTitle": "Đổi tên trạng thái"
        //                 },
        //                 "infoThousands": ".",
        //                 "thousands": "."
        //             },
        //         ajax: {
        //             contentType: 'application/json',
        //             url: origin + "/api/customers/findAllCustomerByGroupId/" + groupId,
        //             type: "GET",
        //             dataSrc: ''
        //         },
        //         lengthMenu: [
        //             [5, 10, 20, , -1],
        //             ["5", "10", "20", "All"]
        //         ],
        //         searching: false,
        //         destroy: true,
        //         columns: [
        //             {data: 'customerCode'},
        //             {data: 'id'},
        //             {data: 'fullName'},
        //             {data: 'phoneNumber'},
        //             {data: 'group.title'},
        //             {data: 'debtTotal'},
        //             {data: 'spendTotal'},
        //             {data: "quantityItemOrder"}],
        //         columnDefs: [
        //             {
        //                 targets: 0,
        //                 render: function (data, type, row, meta) {
        //                     return `
        //                        <input type="checkbox" value="check_none" />
        //                     `
        //                 }
        //             },
        //             {
        //                 targets: 1,
        //                 render: function (data, type, row, meta) {
        //                     return `<a href="/admin/customers/customerInfo/${row.id}">${row.customerCode}</a>`;
        //                 }
        //             },
        //         ],
        //     })
        //
        //
        // }
        //
        // function findCustomerByGroupAndStatus(groupId, status) {
        //     $("#tbCustomer").DataTable({
        //         // chuyển tiếng việt cho datatable
        //         language:
        //             {
        //                 "processing": "Đang xử lý...",
        //                 "aria": {
        //                     "sortAscending": ": Sắp xếp thứ tự tăng dần",
        //                     "sortDescending": ": Sắp xếp thứ tự giảm dần"
        //                 },
        //                 "autoFill": {
        //                     "cancel": "Hủy",
        //                     "fill": "Điền tất cả ô với <i>%d<\/i>",
        //                     "fillHorizontal": "Điền theo hàng ngang",
        //                     "fillVertical": "Điền theo hàng dọc"
        //                 },
        //                 "buttons": {
        //                     "collection": "Chọn lọc <span class=\"ui-button-icon-primary ui-icon ui-icon-triangle-1-s\"><\/span>",
        //                     "colvis": "Hiển thị theo cột",
        //                     "colvisRestore": "Khôi phục hiển thị",
        //                     "copy": "Sao chép",
        //                     "copyKeys": "Nhấn Ctrl hoặc u2318 + C để sao chép bảng dữ liệu vào clipboard.<br \/><br \/>Để hủy, click vào thông báo này hoặc nhấn ESC",
        //                     "copySuccess": {
        //                         "1": "Đã sao chép 1 dòng dữ liệu vào clipboard",
        //                         "_": "Đã sao chép %d dòng vào clipboard"
        //                     },
        //                     "copyTitle": "Sao chép vào clipboard",
        //                     "pageLength": {
        //                         "-1": "Xem tất cả các dòng",
        //                         "_": "Hiển thị %d dòng",
        //                         "1": "Hiển thị 1 dòng"
        //                     },
        //                     "print": "In ấn",
        //                     "createState": "Tạo trạng thái",
        //                     "csv": "CSV",
        //                     "excel": "Excel",
        //                     "pdf": "PDF",
        //                     "removeAllStates": "Xóa hết trạng thái",
        //                     "removeState": "Xóa",
        //                     "renameState": "Đổi tên",
        //                     "savedStates": "Trạng thái đã lưu",
        //                     "stateRestore": "Trạng thái %d",
        //                     "updateState": "Cập nhật"
        //                 },
        //                 "select": {
        //                     "cells": {
        //                         "1": "1 ô đang được chọn",
        //                         "_": "%d ô đang được chọn"
        //                     },
        //                     "columns": {
        //                         "1": "1 cột đang được chọn",
        //                         "_": "%d cột đang được được chọn"
        //                     },
        //                     "rows": {
        //                         "1": "1 dòng đang được chọn",
        //                         "_": "%d dòng đang được chọn"
        //                     }
        //                 },
        //                 "searchBuilder": {
        //                     "title": {
        //                         "_": "Thiết lập tìm kiếm (%d)",
        //                         "0": "Thiết lập tìm kiếm"
        //                     },
        //                     "button": {
        //                         "0": "Thiết lập tìm kiếm",
        //                         "_": "Thiết lập tìm kiếm (%d)"
        //                     },
        //                     "value": "Giá trị",
        //                     "clearAll": "Xóa hết",
        //                     "condition": "Điều kiện",
        //                     "conditions": {
        //                         "date": {
        //                             "after": "Sau",
        //                             "before": "Trước",
        //                             "between": "Nằm giữa",
        //                             "empty": "Rỗng",
        //                             "equals": "Bằng với",
        //                             "not": "Không phải",
        //                             "notBetween": "Không nằm giữa",
        //                             "notEmpty": "Không rỗng"
        //                         },
        //                         "number": {
        //                             "between": "Nằm giữa",
        //                             "empty": "Rỗng",
        //                             "equals": "Bằng với",
        //                             "gt": "Lớn hơn",
        //                             "gte": "Lớn hơn hoặc bằng",
        //                             "lt": "Nhỏ hơn",
        //                             "lte": "Nhỏ hơn hoặc bằng",
        //                             "not": "Không phải",
        //                             "notBetween": "Không nằm giữa",
        //                             "notEmpty": "Không rỗng"
        //                         },
        //                         "string": {
        //                             "contains": "Chứa",
        //                             "empty": "Rỗng",
        //                             "endsWith": "Kết thúc bằng",
        //                             "equals": "Bằng",
        //                             "not": "Không phải",
        //                             "notEmpty": "Không rỗng",
        //                             "startsWith": "Bắt đầu với",
        //                             "notContains": "Không chứa",
        //                             "notEndsWith": "Không kết thúc với",
        //                             "notStartsWith": "Không bắt đầu với"
        //                         },
        //                         "array": {
        //                             "equals": "Bằng",
        //                             "empty": "Trống",
        //                             "contains": "Chứa",
        //                             "not": "Không",
        //                             "notEmpty": "Không được rỗng",
        //                             "without": "không chứa"
        //                         }
        //                     },
        //                     "logicAnd": "Và",
        //                     "logicOr": "Hoặc",
        //                     "add": "Thêm điều kiện",
        //                     "data": "Dữ liệu",
        //                     "deleteTitle": "Xóa quy tắc lọc",
        //                     "leftTitle": "Giảm thụt lề",
        //                     "rightTitle": "Tăng thụt lề"
        //                 },
        //                 "searchPanes": {
        //                     "countFiltered": "{shown} ({total})",
        //                     "emptyPanes": "Không có phần tìm kiếm",
        //                     "clearMessage": "Xóa hết",
        //                     "loadMessage": "Đang load phần tìm kiếm",
        //                     "collapse": {
        //                         "0": "Phần tìm kiếm",
        //                         "_": "Phần tìm kiếm (%d)"
        //                     },
        //                     "title": "Bộ lọc đang hoạt động - %d",
        //                     "count": "{total}",
        //                     "collapseMessage": "Thu gọn tất cả",
        //                     "showMessage": "Hiện tất cả"
        //                 },
        //                 "datetime": {
        //                     "hours": "Giờ",
        //                     "minutes": "Phút",
        //                     "next": "Sau",
        //                     "previous": "Trước",
        //                     "seconds": "Giây",
        //                     "amPm": [
        //                         "am",
        //                         "pm"
        //                     ],
        //                     "unknown": "-",
        //                     "weekdays": [
        //                         "Chủ nhật"
        //                     ],
        //                     "months": [
        //                         "Tháng Một",
        //                         "Tháng Hai",
        //                         "Tháng Ba",
        //                         "Tháng Tư",
        //                         "Tháng Năm",
        //                         "Tháng Sáu",
        //                         "Tháng Bảy",
        //                         "Tháng Tám",
        //                         "Tháng Chín",
        //                         "Tháng Mười",
        //                         "Tháng Mười Một",
        //                         "Tháng Mười Hai"
        //                     ]
        //                 },
        //                 "emptyTable": "Không có dữ liệu",
        //                 "info": "Hiển thị _START_ tới _END_ của _TOTAL_ dữ liệu",
        //                 "infoEmpty": "Hiển thị 0 tới 0 của 0 dữ liệu",
        //                 "lengthMenu": "Hiển thị _MENU_ dữ liệu",
        //                 "loadingRecords": "Đang tải...",
        //                 "paginate": {
        //                     "first": "Đầu tiên",
        //                     "last": "Cuối cùng",
        //                     "next": "Sau",
        //                     "previous": "Trước"
        //                 },
        //                 "search": "Tìm kiếm:",
        //                 "zeroRecords": "Không tìm thấy kết quả",
        //                 "decimal": ",",
        //                 "editor": {
        //                     "close": "Đóng",
        //                     "create": {
        //                         "button": "Thêm",
        //                         "submit": "Thêm",
        //                         "title": "Thêm mục mới"
        //                     },
        //                     "edit": {
        //                         "button": "Sửa",
        //                         "submit": "Cập nhật",
        //                         "title": "Sửa mục"
        //                     },
        //                     "error": {
        //                         "system": "Đã xảy ra lỗi hệ thống (&lt;a target=\"\\\" rel=\"nofollow\" href=\"\\\"&gt;Thêm thông tin&lt;\/a&gt;)."
        //                     },
        //                     "multi": {
        //                         "info": "Các mục đã chọn chứa các giá trị khác nhau cho đầu vào này. Để chỉnh sửa và đặt tất cả các mục cho đầu vào này thành cùng một giá trị, hãy nhấp hoặc nhấn vào đây, nếu không chúng sẽ giữ lại các giá trị riêng lẻ của chúng.",
        //                         "noMulti": "Đầu vào này có thể được chỉnh sửa riêng lẻ, nhưng không phải là một phần của một nhóm.",
        //                         "restore": "Hoàn tác thay đổi",
        //                         "title": "Nhiều giá trị"
        //                     },
        //                     "remove": {
        //                         "button": "Xóa",
        //                         "confirm": {
        //                             "_": "Bạn có chắc chắn muốn xóa %d hàng không?",
        //                             "1": "Bạn có chắc chắn muốn xóa 1 hàng không?"
        //                         },
        //                         "submit": "Xóa",
        //                         "title": "Xóa"
        //                     }
        //                 },
        //                 "infoFiltered": "(được lọc từ _MAX_ dữ liệu)",
        //                 "searchPlaceholder": "Nhập tìm kiếm...",
        //                 "stateRestore": {
        //                     "creationModal": {
        //                         "button": "Thêm",
        //                         "columns": {
        //                             "search": "Tìm kiếm cột",
        //                             "visible": "Khả năng hiển thị cột"
        //                         },
        //                         "name": "Tên:",
        //                         "order": "Sắp xếp",
        //                         "paging": "Phân trang",
        //                         "scroller": "Cuộn vị trí",
        //                         "search": "Tìm kiếm",
        //                         "searchBuilder": "Trình tạo tìm kiếm",
        //                         "select": "Chọn",
        //                         "title": "Thêm trạng thái",
        //                         "toggleLabel": "Bao gồm:"
        //                     },
        //                     "duplicateError": "Trạng thái có tên này đã tồn tại.",
        //                     "emptyError": "Tên không được để trống.",
        //                     "emptyStates": "Không có trạng thái đã lưu",
        //                     "removeConfirm": "Bạn có chắc chắn muốn xóa %s không?",
        //                     "removeError": "Không xóa được trạng thái.",
        //                     "removeJoiner": "và",
        //                     "removeSubmit": "Xóa",
        //                     "removeTitle": "Xóa trạng thái",
        //                     "renameButton": "Đổi tên",
        //                     "renameLabel": "Tên mới cho %s:",
        //                     "renameTitle": "Đổi tên trạng thái"
        //                 },
        //                 "infoThousands": ".",
        //                 "thousands": "."
        //             },
        //         ajax: {
        //             contentType: 'application/json',
        //             url: origin + "/api/customers/findAllCustomerByGroupAndStatus/" + groupId + "," + status,
        //             type: "GET",
        //             dataSrc: ''
        //         },
        //         lengthMenu: [
        //             [5, 10, 20, -1],
        //             ["5", "10", "20", "All"]
        //         ],
        //         searching: false,
        //         destroy: true,
        //         columns: [
        //             {data: 'id'},
        //             {data: 'customerCode'},
        //             {data: 'fullName'},
        //             {data: 'phoneNumber'},
        //             {data: 'group.title'},
        //             {data: 'debtTotal'},
        //             {data: 'spendTotal'},
        //             {data: "quantityItemOrder"}],
        //         columnDefs: [
        //             {
        //                 targets: 0,
        //                 render: function (data, type, row, meta) {
        //                     return `
        //                        <input type="checkbox" value="check_none" />
        //                     `
        //                 }
        //             },
        //             {
        //                 targets: 1,
        //                 render: function (data, type, row, meta) {
        //                     return `<a href="/admin/customers/customerInfo/${row.id}">${row.customerCode}</a>`;
        //                 }
        //             },
        //
        //         ],
        //     })
        //
        // }
        //
        // function findCustomerByStatus(status) {
        //
        //     $("#tbCustomer").DataTable({
        //         // chuyển tiếng việt cho datatable
        //         language:
        //             {
        //                 "processing": "Đang xử lý...",
        //                 "aria": {
        //                     "sortAscending": ": Sắp xếp thứ tự tăng dần",
        //                     "sortDescending": ": Sắp xếp thứ tự giảm dần"
        //                 },
        //                 "autoFill": {
        //                     "cancel": "Hủy",
        //                     "fill": "Điền tất cả ô với <i>%d<\/i>",
        //                     "fillHorizontal": "Điền theo hàng ngang",
        //                     "fillVertical": "Điền theo hàng dọc"
        //                 },
        //                 "buttons": {
        //                     "collection": "Chọn lọc <span class=\"ui-button-icon-primary ui-icon ui-icon-triangle-1-s\"><\/span>",
        //                     "colvis": "Hiển thị theo cột",
        //                     "colvisRestore": "Khôi phục hiển thị",
        //                     "copy": "Sao chép",
        //                     "copyKeys": "Nhấn Ctrl hoặc u2318 + C để sao chép bảng dữ liệu vào clipboard.<br \/><br \/>Để hủy, click vào thông báo này hoặc nhấn ESC",
        //                     "copySuccess": {
        //                         "1": "Đã sao chép 1 dòng dữ liệu vào clipboard",
        //                         "_": "Đã sao chép %d dòng vào clipboard"
        //                     },
        //                     "copyTitle": "Sao chép vào clipboard",
        //                     "pageLength": {
        //                         "-1": "Xem tất cả các dòng",
        //                         "_": "Hiển thị %d dòng",
        //                         "1": "Hiển thị 1 dòng"
        //                     },
        //                     "print": "In ấn",
        //                     "createState": "Tạo trạng thái",
        //                     "csv": "CSV",
        //                     "excel": "Excel",
        //                     "pdf": "PDF",
        //                     "removeAllStates": "Xóa hết trạng thái",
        //                     "removeState": "Xóa",
        //                     "renameState": "Đổi tên",
        //                     "savedStates": "Trạng thái đã lưu",
        //                     "stateRestore": "Trạng thái %d",
        //                     "updateState": "Cập nhật"
        //                 },
        //                 "select": {
        //                     "cells": {
        //                         "1": "1 ô đang được chọn",
        //                         "_": "%d ô đang được chọn"
        //                     },
        //                     "columns": {
        //                         "1": "1 cột đang được chọn",
        //                         "_": "%d cột đang được được chọn"
        //                     },
        //                     "rows": {
        //                         "1": "1 dòng đang được chọn",
        //                         "_": "%d dòng đang được chọn"
        //                     }
        //                 },
        //                 "searchBuilder": {
        //                     "title": {
        //                         "_": "Thiết lập tìm kiếm (%d)",
        //                         "0": "Thiết lập tìm kiếm"
        //                     },
        //                     "button": {
        //                         "0": "Thiết lập tìm kiếm",
        //                         "_": "Thiết lập tìm kiếm (%d)"
        //                     },
        //                     "value": "Giá trị",
        //                     "clearAll": "Xóa hết",
        //                     "condition": "Điều kiện",
        //                     "conditions": {
        //                         "date": {
        //                             "after": "Sau",
        //                             "before": "Trước",
        //                             "between": "Nằm giữa",
        //                             "empty": "Rỗng",
        //                             "equals": "Bằng với",
        //                             "not": "Không phải",
        //                             "notBetween": "Không nằm giữa",
        //                             "notEmpty": "Không rỗng"
        //                         },
        //                         "number": {
        //                             "between": "Nằm giữa",
        //                             "empty": "Rỗng",
        //                             "equals": "Bằng với",
        //                             "gt": "Lớn hơn",
        //                             "gte": "Lớn hơn hoặc bằng",
        //                             "lt": "Nhỏ hơn",
        //                             "lte": "Nhỏ hơn hoặc bằng",
        //                             "not": "Không phải",
        //                             "notBetween": "Không nằm giữa",
        //                             "notEmpty": "Không rỗng"
        //                         },
        //                         "string": {
        //                             "contains": "Chứa",
        //                             "empty": "Rỗng",
        //                             "endsWith": "Kết thúc bằng",
        //                             "equals": "Bằng",
        //                             "not": "Không phải",
        //                             "notEmpty": "Không rỗng",
        //                             "startsWith": "Bắt đầu với",
        //                             "notContains": "Không chứa",
        //                             "notEndsWith": "Không kết thúc với",
        //                             "notStartsWith": "Không bắt đầu với"
        //                         },
        //                         "array": {
        //                             "equals": "Bằng",
        //                             "empty": "Trống",
        //                             "contains": "Chứa",
        //                             "not": "Không",
        //                             "notEmpty": "Không được rỗng",
        //                             "without": "không chứa"
        //                         }
        //                     },
        //                     "logicAnd": "Và",
        //                     "logicOr": "Hoặc",
        //                     "add": "Thêm điều kiện",
        //                     "data": "Dữ liệu",
        //                     "deleteTitle": "Xóa quy tắc lọc",
        //                     "leftTitle": "Giảm thụt lề",
        //                     "rightTitle": "Tăng thụt lề"
        //                 },
        //                 "searchPanes": {
        //                     "countFiltered": "{shown} ({total})",
        //                     "emptyPanes": "Không có phần tìm kiếm",
        //                     "clearMessage": "Xóa hết",
        //                     "loadMessage": "Đang load phần tìm kiếm",
        //                     "collapse": {
        //                         "0": "Phần tìm kiếm",
        //                         "_": "Phần tìm kiếm (%d)"
        //                     },
        //                     "title": "Bộ lọc đang hoạt động - %d",
        //                     "count": "{total}",
        //                     "collapseMessage": "Thu gọn tất cả",
        //                     "showMessage": "Hiện tất cả"
        //                 },
        //                 "datetime": {
        //                     "hours": "Giờ",
        //                     "minutes": "Phút",
        //                     "next": "Sau",
        //                     "previous": "Trước",
        //                     "seconds": "Giây",
        //                     "amPm": [
        //                         "am",
        //                         "pm"
        //                     ],
        //                     "unknown": "-",
        //                     "weekdays": [
        //                         "Chủ nhật"
        //                     ],
        //                     "months": [
        //                         "Tháng Một",
        //                         "Tháng Hai",
        //                         "Tháng Ba",
        //                         "Tháng Tư",
        //                         "Tháng Năm",
        //                         "Tháng Sáu",
        //                         "Tháng Bảy",
        //                         "Tháng Tám",
        //                         "Tháng Chín",
        //                         "Tháng Mười",
        //                         "Tháng Mười Một",
        //                         "Tháng Mười Hai"
        //                     ]
        //                 },
        //                 "emptyTable": "Không có dữ liệu",
        //                 "info": "Hiển thị _START_ tới _END_ của _TOTAL_ dữ liệu",
        //                 "infoEmpty": "Hiển thị 0 tới 0 của 0 dữ liệu",
        //                 "lengthMenu": "Hiển thị _MENU_ dữ liệu",
        //                 "loadingRecords": "Đang tải...",
        //                 "paginate": {
        //                     "first": "Đầu tiên",
        //                     "last": "Cuối cùng",
        //                     "next": "Sau",
        //                     "previous": "Trước"
        //                 },
        //                 "search": "Tìm kiếm:",
        //                 "zeroRecords": "Không tìm thấy kết quả",
        //                 "decimal": ",",
        //                 "editor": {
        //                     "close": "Đóng",
        //                     "create": {
        //                         "button": "Thêm",
        //                         "submit": "Thêm",
        //                         "title": "Thêm mục mới"
        //                     },
        //                     "edit": {
        //                         "button": "Sửa",
        //                         "submit": "Cập nhật",
        //                         "title": "Sửa mục"
        //                     },
        //                     "error": {
        //                         "system": "Đã xảy ra lỗi hệ thống (&lt;a target=\"\\\" rel=\"nofollow\" href=\"\\\"&gt;Thêm thông tin&lt;\/a&gt;)."
        //                     },
        //                     "multi": {
        //                         "info": "Các mục đã chọn chứa các giá trị khác nhau cho đầu vào này. Để chỉnh sửa và đặt tất cả các mục cho đầu vào này thành cùng một giá trị, hãy nhấp hoặc nhấn vào đây, nếu không chúng sẽ giữ lại các giá trị riêng lẻ của chúng.",
        //                         "noMulti": "Đầu vào này có thể được chỉnh sửa riêng lẻ, nhưng không phải là một phần của một nhóm.",
        //                         "restore": "Hoàn tác thay đổi",
        //                         "title": "Nhiều giá trị"
        //                     },
        //                     "remove": {
        //                         "button": "Xóa",
        //                         "confirm": {
        //                             "_": "Bạn có chắc chắn muốn xóa %d hàng không?",
        //                             "1": "Bạn có chắc chắn muốn xóa 1 hàng không?"
        //                         },
        //                         "submit": "Xóa",
        //                         "title": "Xóa"
        //                     }
        //                 },
        //                 "infoFiltered": "(được lọc từ _MAX_ dữ liệu)",
        //                 "searchPlaceholder": "Nhập tìm kiếm...",
        //                 "stateRestore": {
        //                     "creationModal": {
        //                         "button": "Thêm",
        //                         "columns": {
        //                             "search": "Tìm kiếm cột",
        //                             "visible": "Khả năng hiển thị cột"
        //                         },
        //                         "name": "Tên:",
        //                         "order": "Sắp xếp",
        //                         "paging": "Phân trang",
        //                         "scroller": "Cuộn vị trí",
        //                         "search": "Tìm kiếm",
        //                         "searchBuilder": "Trình tạo tìm kiếm",
        //                         "select": "Chọn",
        //                         "title": "Thêm trạng thái",
        //                         "toggleLabel": "Bao gồm:"
        //                     },
        //                     "duplicateError": "Trạng thái có tên này đã tồn tại.",
        //                     "emptyError": "Tên không được để trống.",
        //                     "emptyStates": "Không có trạng thái đã lưu",
        //                     "removeConfirm": "Bạn có chắc chắn muốn xóa %s không?",
        //                     "removeError": "Không xóa được trạng thái.",
        //                     "removeJoiner": "và",
        //                     "removeSubmit": "Xóa",
        //                     "removeTitle": "Xóa trạng thái",
        //                     "renameButton": "Đổi tên",
        //                     "renameLabel": "Tên mới cho %s:",
        //                     "renameTitle": "Đổi tên trạng thái"
        //                 },
        //                 "infoThousands": ".",
        //                 "thousands": "."
        //             },
        //         ajax: {
        //             contentType: 'application/json',
        //             url: origin + "/api/customers/findAllCustomerByStatus/" + status,
        //             type: "GET",
        //             dataSrc: ''
        //         },
        //         lengthMenu: [
        //             [5, 10, 20, -1],
        //             ["5", "10", "20", "All"]
        //         ],
        //
        //         searching: false,
        //         //mỗi khi thay đổi dữ liệu nó sẻ xoá cái cũ tạo cái mới á
        //         destroy: true,
        //         columns: [
        //             {data: 'id'},
        //             {data: 'customerCode'},
        //             {data: 'fullName'},
        //             {data: 'phoneNumber'},
        //             {data: 'group.title'},
        //             {data: 'debtTotal'},
        //             {data: 'spendTotal'},
        //             {data: "quantityItemOrder"}],
        //         // columnDefs đếm từ o tới á
        //         columnDefs: [
        //             {
        //                 targets: 0,
        //                 render: function (data, type, row, meta) {
        //                     return `
        //                        <input type="checkbox" value="check_none" />
        //                     `
        //                 }
        //             },
        //             {
        //                 targets: 1,
        //                 render: function (data, type, row, meta) {
        //                     return `<a href="/admin/customers/customerInfo/${row.id}">${row.customerCode}</a>`;
        //                 }
        //             },
        //
        //
        //         ],
        //     })
        //
        // }
        //
        // function showAllCustomerGroup() {
        //     return $.ajax({
        //         headers: {
        //             "accept": "application/json",
        //             "content-type": "application/json"
        //         },
        //         type: "GET",
        //
        //         url: origin + "/api/customer_groups",
        //     })
        //         .done((data) => {
        //
        //             $.each(data, (i, item) => {
        //                 let str = `<option value="${item.id}">${item.title}</option>`;
        //                 page.dialogs.elements.groupCustomer.append(str);
        //             });
        //         })
        //         .fail((jqXHR) => {
        //             CustomerApp.IziToast.showErrorAlert("Lỗi tại customer Group")
        //         })
        // }
=======
    page.elements.btnAvailable = $("#btnAvailable");
    page.elements.btnUnavailable = $("#btnUnavailable");
    page.elements.btnDelete = $("#btnDelete");
    page.elements.btnAvailableSave = $("#btnAvailableSave");
    page.elements.btnUnavailableSave = $("#btnUnavailableSave");
    page.elements.btnSubmitDelete = $("#btnSubmitDelete");


    page.elements.btnTitleSort = $("#btnTitleSort");
    page.elements.btnCreatAtSort = $("#btnCreatAtSort");
    page.elements.btnUpdateAtSort = $("#btnUpdateAtSort");

    page.elements.totalPage = $("#totalPage");
    page.elements.pageNo = $("#pageNo");
    page.elements.pageSize = $("#pageSize");
    page.elements.search = $("#inp-search");

    page.elements.checkAll = $("#checkAll");
    page.elements.selectAction = $("#selectAction");

    page.elements.selectActionThead = $("#selectActionThead");
    page.elements.theadList = $("#theadList");
    page.elements.numberSelectCustomerList = $("#numberSelectCustomerList");
    page.elements.statusChangeForNumberCustomerList = $("#statusChange");
    page.elements.statusChangeForNumberToUnavailable = $("#statusChangeUnavailable");
    page.elements.statusChangeForNumberDelete = $("#statusChangeDelete");

    page.elements.modalAvailable = $("#modalAvailable");
    page.elements.modalUnavailable = $("#modalUnavailable");
    page.elements.modalDelete = $("#modalDelete");

    page.dialogs.elements.status = $("#status");
    page.dialogs.elements.groupCustomer = $("#ddl-group-customer");
    page.dialogs.elements.status = $("#ddl-status");
    page.dialogs.elements.nextPage = $("#nextPage");
    page.dialogs.elements.previousPage = $("#previousPage");

    page.elements.importFile = $("#importFileCustomers");

    page.elements.loading = $(".modal-content .modal-header .loader");
    //duoc lay tu modal-config-table.html
    page.util.nameColumn = column;
    
    page.elements.importFile.on("click", function (){
        $("#modalImportFileCustomers").modal("show");
    })

        page.commands.showLoading = () => {
            page.elements.loading.css('z-index', 1);
            $('#btnImportFileCustomers').prop('disabled', true);

        }

        page.commands.closeLoading = () => {
            page.elements.loading.css('z-index', -1);
            $('#btnImportFileCustomers').prop('disabled', false);
        }


    page.commands.getAllCustomers = () => {
        $(document).ready(function () {
            if(localStorage.getItem(KEY_CUSTOMER_FILTER_SAVE)==null){
                customerFilter = new CustomerFilter();
                localStorage.setItem(KEY_CUSTOMER_FILTER_SAVE, JSON.stringify(customerFilter));
            }else{
                customerFilter = JSON.parse(localStorage.getItem(KEY_CUSTOMER_FILTER_SAVE));
            }
            drawDataTable();
        })
    }
    
    function drawDataTable(){
        $("#tbCustomer").DataTable({
            // chuyển tiếng việt cho datatable
            "destroy": true,
            "processing": true,
            "serverSide": true,
            "paging": true,
            language:
                {
                    "processing": "Đang xử lý...",
                    "aria": {
                        "sortAscending": ": Sắp xếp thứ tự tăng dần",
                        "sortDescending": ": Sắp xếp thứ tự giảm dần"
                    },
                    "autoFill": {
                        "cancel": "Hủy",
                        "fill": "Điền tất cả ô với <i>%d<\/i>",
                        "fillHorizontal": "Điền theo hàng ngang",
                        "fillVertical": "Điền theo hàng dọc"
                    },
                    "buttons": {
                        "collection": "Chọn lọc <span class=\"ui-button-icon-primary ui-icon ui-icon-triangle-1-s\"><\/span>",
                        "colvis": "Hiển thị theo cột",
                        "colvisRestore": "Khôi phục hiển thị",
                        "copy": "Sao chép",
                        "copyKeys": "Nhấn Ctrl hoặc u2318 + C để sao chép bảng dữ liệu vào clipboard.<br \/><br \/>Để hủy, click vào thông báo này hoặc nhấn ESC",
                        "copySuccess": {
                            "1": "Đã sao chép 1 dòng dữ liệu vào clipboard",
                            "_": "Đã sao chép %d dòng vào clipboard"
                        },
                        "copyTitle": "Sao chép vào clipboard",
                        "pageLength": {
                            "-1": "Xem tất cả các dòng",
                            "_": "Hiển thị %d dòng",
                            "1": "Hiển thị 1 dòng"
                        },
                        "print": "In ấn",
                        "createState": "Tạo trạng thái",
                        "csv": "CSV",
                        "excel": "Excel",
                        "pdf": "PDF",
                        "removeAllStates": "Xóa hết trạng thái",
                        "removeState": "Xóa",
                        "renameState": "Đổi tên",
                        "savedStates": "Trạng thái đã lưu",
                        "stateRestore": "Trạng thái %d",
                        "updateState": "Cập nhật"
                    },
                    "select": {
                        "cells": {
                            "1": "1 ô đang được chọn",
                            "_": "%d ô đang được chọn"
                        },
                        "columns": {
                            "1": "1 cột đang được chọn",
                            "_": "%d cột đang được được chọn"
                        },
                        "rows": {
                            "1": "1 dòng đang được chọn",
                            "_": "%d dòng đang được chọn"
                        }
                    },
                    "searchBuilder": {
                        "title": {
                            "_": "Thiết lập tìm kiếm (%d)",
                            "0": "Thiết lập tìm kiếm"
                        },
                        "button": {
                            "0": "Thiết lập tìm kiếm",
                            "_": "Thiết lập tìm kiếm (%d)"
                        },
                        "value": "Giá trị",
                        "clearAll": "Xóa hết",
                        "condition": "Điều kiện",
                        "conditions": {
                            "date": {
                                "after": "Sau",
                                "before": "Trước",
                                "between": "Nằm giữa",
                                "empty": "Rỗng",
                                "equals": "Bằng với",
                                "not": "Không phải",
                                "notBetween": "Không nằm giữa",
                                "notEmpty": "Không rỗng"
                            },
                            "number": {
                                "between": "Nằm giữa",
                                "empty": "Rỗng",
                                "equals": "Bằng với",
                                "gt": "Lớn hơn",
                                "gte": "Lớn hơn hoặc bằng",
                                "lt": "Nhỏ hơn",
                                "lte": "Nhỏ hơn hoặc bằng",
                                "not": "Không phải",
                                "notBetween": "Không nằm giữa",
                                "notEmpty": "Không rỗng"
                            },
                            "string": {
                                "contains": "Chứa",
                                "empty": "Rỗng",
                                "endsWith": "Kết thúc bằng",
                                "equals": "Bằng",
                                "not": "Không phải",
                                "notEmpty": "Không rỗng",
                                "startsWith": "Bắt đầu với",
                                "notContains": "Không chứa",
                                "notEndsWith": "Không kết thúc với",
                                "notStartsWith": "Không bắt đầu với"
                            },
                            "array": {
                                "equals": "Bằng",
                                "empty": "Trống",
                                "contains": "Chứa",
                                "not": "Không",
                                "notEmpty": "Không được rỗng",
                                "without": "không chứa"
                            }
                        },
                        "logicAnd": "Và",
                        "logicOr": "Hoặc",
                        "add": "Thêm điều kiện",
                        "data": "Dữ liệu",
                        "deleteTitle": "Xóa quy tắc lọc",
                        "leftTitle": "Giảm thụt lề",
                        "rightTitle": "Tăng thụt lề"
                    },
                    "searchPanes": {
                        "countFiltered": "{shown} ({total})",
                        "emptyPanes": "Không có phần tìm kiếm",
                        "clearMessage": "Xóa hết",
                        "loadMessage": "Đang load phần tìm kiếm",
                        "collapse": {
                            "0": "Phần tìm kiếm",
                            "_": "Phần tìm kiếm (%d)"
                        },
                        "title": "Bộ lọc đang hoạt động - %d",
                        "count": "{total}",
                        "collapseMessage": "Thu gọn tất cả",
                        "showMessage": "Hiện tất cả"
                    },
                    "datetime": {
                        "hours": "Giờ",
                        "minutes": "Phút",
                        "next": "Sau",
                        "previous": "Trước",
                        "seconds": "Giây",
                        "amPm": [
                            "am",
                            "pm"
                        ],
                        "unknown": "-",
                        "weekdays": [
                            "Chủ nhật"
                        ],
                        "months": [
                            "Tháng Một",
                            "Tháng Hai",
                            "Tháng Ba",
                            "Tháng Tư",
                            "Tháng Năm",
                            "Tháng Sáu",
                            "Tháng Bảy",
                            "Tháng Tám",
                            "Tháng Chín",
                            "Tháng Mười",
                            "Tháng Mười Một",
                            "Tháng Mười Hai"
                        ]
                    },
                    "emptyTable": "Không có dữ liệu",
                    "info": "Hiển thị _START_ tới _END_ của _TOTAL_ dữ liệu",
                    "infoEmpty": "Hiển thị 0 tới 0 của 0 dữ liệu",
                    "lengthMenu": "Hiển thị _MENU_ dữ liệu",
                    "loadingRecords": "Đang tải...",
                    "paginate": {
                        "first": "Đầu tiên",
                        "last": "Cuối cùng",
                        "next": "Sau",
                        "previous": "Trước"
                    },
                    "search": "Tìm kiếm:",
                    "zeroRecords": "Không tìm thấy kết quả",
                    "decimal": ",",
                    "editor": {
                        "close": "Đóng",
                        "create": {
                            "button": "Thêm",
                            "submit": "Thêm",
                            "title": "Thêm mục mới"
                        },
                        "edit": {
                            "button": "Sửa",
                            "submit": "Cập nhật",
                            "title": "Sửa mục"
                        },
                        "error": {
                            "system": "Đã xảy ra lỗi hệ thống (&lt;a target=\"\\\" rel=\"nofollow\" href=\"\\\"&gt;Thêm thông tin&lt;\/a&gt;)."
                        },
                        "multi": {
                            "info": "Các mục đã chọn chứa các giá trị khác nhau cho đầu vào này. Để chỉnh sửa và đặt tất cả các mục cho đầu vào này thành cùng một giá trị, hãy nhấp hoặc nhấn vào đây, nếu không chúng sẽ giữ lại các giá trị riêng lẻ của chúng.",
                            "noMulti": "Đầu vào này có thể được chỉnh sửa riêng lẻ, nhưng không phải là một phần của một nhóm.",
                            "restore": "Hoàn tác thay đổi",
                            "title": "Nhiều giá trị"
                        },
                        "remove": {
                            "button": "Xóa",
                            "confirm": {
                                "_": "Bạn có chắc chắn muốn xóa %d hàng không?",
                                "1": "Bạn có chắc chắn muốn xóa 1 hàng không?"
                            },
                            "submit": "Xóa",
                            "title": "Xóa"
                        }
                    },
                    "infoFiltered": "(được lọc từ _MAX_ dữ liệu)",
                    "searchPlaceholder": "Nhập tìm kiếm...",
                    "stateRestore": {
                        "creationModal": {
                            "button": "Thêm",
                            "columns": {
                                "search": "Tìm kiếm cột",
                                "visible": "Khả năng hiển thị cột"
                            },
                            "name": "Tên:",
                            "order": "Sắp xếp",
                            "paging": "Phân trang",
                            "scroller": "Cuộn vị trí",
                            "search": "Tìm kiếm",
                            "searchBuilder": "Trình tạo tìm kiếm",
                            "select": "Chọn",
                            "title": "Thêm trạng thái",
                            "toggleLabel": "Bao gồm:"
                        },
                        "duplicateError": "Trạng thái có tên này đã tồn tại.",
                        "emptyError": "Tên không được để trống.",
                        "emptyStates": "Không có trạng thái đã lưu",
                        "removeConfirm": "Bạn có chắc chắn muốn xóa %s không?",
                        "removeError": "Không xóa được trạng thái.",
                        "removeJoiner": "và",
                        "removeSubmit": "Xóa",
                        "removeTitle": "Xóa trạng thái",
                        "renameButton": "Đổi tên",
                        "renameLabel": "Tên mới cho %s:",
                        "renameTitle": "Đổi tên trạng thái"
                    },
                },
            ajax: {
                url: origin +'/api/customers/filter',
                type: 'POST',
                // dataSrc: "content",
                contentType: 'application/json',
                data: function (d) {
                    d.groupIds = customerFilter.groupIds;
                    d.gender = customerFilter.gender;
                    d.dayOfBirthday = customerFilter.dayOfBirthday;
                    d.monthOfBirthday = customerFilter.monthOfBirthday;
                    d.employeeIds = customerFilter.employeeIds;
                    d.keyword = customerFilter.keyword;
                    d.statusList = [];
                    return JSON.stringify(d)
                }
            },
            lengthMenu: [
                [10, 30, 50,1000000000],
                ["10", "30", "50", "All"]
            ],
            searching: false,
            destroy: true,
            columns: [
                {data: 'id'},
                {data: 'phoneNumber'},
                {data: 'customerCode'},
                {data: 'fullName'},
                {data: 'group.title'},
                {data: 'debtTotal'},
                {data: 'spendTotal'},
                {data: "quantityItemOrder"}],
             columnDefs: [
             {
                            targets: 0,
                            "orderable": false,
                            render: function (data, type, row, meta) {
                                return `
                               <input type="checkbox" value="check_none" style="float:right"/>
                            `
                            }
                        },
             {
                            targets: 1,
                            render: function (data, type, row, meta) {
                                return `<a href="/admin/customers/${row.id}" style="text-decoration: none">${row.customerCode}</a>`;
                            }
                        },


             ],
        })
        let theadFirst = $("#tbCustomer thead tr th");
        let removeSorting = setInterval(()=>{
            if($(theadFirst[0]).hasClass("sorting_asc")){
                $(theadFirst[0]).removeClass('sorting_asc');
                clearInterval(removeSorting);
            }
        })
    }

    function findCustomerByGroup(groupId) {
        $("#tbCustomer").DataTable({
            // chuyển tiếng việt cho datatable
            language:
                {
                    "processing": "Đang xử lý...",
                    "aria": {
                        "sortAscending": ": Sắp xếp thứ tự tăng dần",
                        "sortDescending": ": Sắp xếp thứ tự giảm dần"
                    },
                    "autoFill": {
                        "cancel": "Hủy",
                        "fill": "Điền tất cả ô với <i>%d<\/i>",
                        "fillHorizontal": "Điền theo hàng ngang",
                        "fillVertical": "Điền theo hàng dọc"
                    },
                    "buttons": {
                        "collection": "Chọn lọc <span class=\"ui-button-icon-primary ui-icon ui-icon-triangle-1-s\"><\/span>",
                        "colvis": "Hiển thị theo cột",
                        "colvisRestore": "Khôi phục hiển thị",
                        "copy": "Sao chép",
                        "copyKeys": "Nhấn Ctrl hoặc u2318 + C để sao chép bảng dữ liệu vào clipboard.<br \/><br \/>Để hủy, click vào thông báo này hoặc nhấn ESC",
                        "copySuccess": {
                            "1": "Đã sao chép 1 dòng dữ liệu vào clipboard",
                            "_": "Đã sao chép %d dòng vào clipboard"
                        },
                        "copyTitle": "Sao chép vào clipboard",
                        "pageLength": {
                            "-1": "Xem tất cả các dòng",
                            "_": "Hiển thị %d dòng",
                            "1": "Hiển thị 1 dòng"
                        },
                        "print": "In ấn",
                        "createState": "Tạo trạng thái",
                        "csv": "CSV",
                        "excel": "Excel",
                        "pdf": "PDF",
                        "removeAllStates": "Xóa hết trạng thái",
                        "removeState": "Xóa",
                        "renameState": "Đổi tên",
                        "savedStates": "Trạng thái đã lưu",
                        "stateRestore": "Trạng thái %d",
                        "updateState": "Cập nhật"
                    },
                    "select": {
                        "cells": {
                            "1": "1 ô đang được chọn",
                            "_": "%d ô đang được chọn"
                        },
                        "columns": {
                            "1": "1 cột đang được chọn",
                            "_": "%d cột đang được được chọn"
                        },
                        "rows": {
                            "1": "1 dòng đang được chọn",
                            "_": "%d dòng đang được chọn"
                        }
                    },
                    "searchBuilder": {
                        "title": {
                            "_": "Thiết lập tìm kiếm (%d)",
                            "0": "Thiết lập tìm kiếm"
                        },
                        "button": {
                            "0": "Thiết lập tìm kiếm",
                            "_": "Thiết lập tìm kiếm (%d)"
                        },
                        "value": "Giá trị",
                        "clearAll": "Xóa hết",
                        "condition": "Điều kiện",
                        "conditions": {
                            "date": {
                                "after": "Sau",
                                "before": "Trước",
                                "between": "Nằm giữa",
                                "empty": "Rỗng",
                                "equals": "Bằng với",
                                "not": "Không phải",
                                "notBetween": "Không nằm giữa",
                                "notEmpty": "Không rỗng"
                            },
                            "number": {
                                "between": "Nằm giữa",
                                "empty": "Rỗng",
                                "equals": "Bằng với",
                                "gt": "Lớn hơn",
                                "gte": "Lớn hơn hoặc bằng",
                                "lt": "Nhỏ hơn",
                                "lte": "Nhỏ hơn hoặc bằng",
                                "not": "Không phải",
                                "notBetween": "Không nằm giữa",
                                "notEmpty": "Không rỗng"
                            },
                            "string": {
                                "contains": "Chứa",
                                "empty": "Rỗng",
                                "endsWith": "Kết thúc bằng",
                                "equals": "Bằng",
                                "not": "Không phải",
                                "notEmpty": "Không rỗng",
                                "startsWith": "Bắt đầu với",
                                "notContains": "Không chứa",
                                "notEndsWith": "Không kết thúc với",
                                "notStartsWith": "Không bắt đầu với"
                            },
                            "array": {
                                "equals": "Bằng",
                                "empty": "Trống",
                                "contains": "Chứa",
                                "not": "Không",
                                "notEmpty": "Không được rỗng",
                                "without": "không chứa"
                            }
                        },
                        "logicAnd": "Và",
                        "logicOr": "Hoặc",
                        "add": "Thêm điều kiện",
                        "data": "Dữ liệu",
                        "deleteTitle": "Xóa quy tắc lọc",
                        "leftTitle": "Giảm thụt lề",
                        "rightTitle": "Tăng thụt lề"
                    },
                    "searchPanes": {
                        "countFiltered": "{shown} ({total})",
                        "emptyPanes": "Không có phần tìm kiếm",
                        "clearMessage": "Xóa hết",
                        "loadMessage": "Đang load phần tìm kiếm",
                        "collapse": {
                            "0": "Phần tìm kiếm",
                            "_": "Phần tìm kiếm (%d)"
                        },
                        "title": "Bộ lọc đang hoạt động - %d",
                        "count": "{total}",
                        "collapseMessage": "Thu gọn tất cả",
                        "showMessage": "Hiện tất cả"
                    },
                    "datetime": {
                        "hours": "Giờ",
                        "minutes": "Phút",
                        "next": "Sau",
                        "previous": "Trước",
                        "seconds": "Giây",
                        "amPm": [
                            "am",
                            "pm"
                        ],
                        "unknown": "-",
                        "weekdays": [
                            "Chủ nhật"
                        ],
                        "months": [
                            "Tháng Một",
                            "Tháng Hai",
                            "Tháng Ba",
                            "Tháng Tư",
                            "Tháng Năm",
                            "Tháng Sáu",
                            "Tháng Bảy",
                            "Tháng Tám",
                            "Tháng Chín",
                            "Tháng Mười",
                            "Tháng Mười Một",
                            "Tháng Mười Hai"
                        ]
                    },
                    "emptyTable": "Không có dữ liệu",
                    "info": "Hiển thị _START_ tới _END_ của _TOTAL_ dữ liệu",
                    "infoEmpty": "Hiển thị 0 tới 0 của 0 dữ liệu",
                    "lengthMenu": "Hiển thị _MENU_ dữ liệu",
                    "loadingRecords": "Đang tải...",
                    "paginate": {
                        "first": "Đầu tiên",
                        "last": "Cuối cùng",
                        "next": "Sau",
                        "previous": "Trước"
                    },
                    "search": "Tìm kiếm:",
                    "zeroRecords": "Không tìm thấy kết quả",
                    "decimal": ",",
                    "editor": {
                        "close": "Đóng",
                        "create": {
                            "button": "Thêm",
                            "submit": "Thêm",
                            "title": "Thêm mục mới"
                        },
                        "edit": {
                            "button": "Sửa",
                            "submit": "Cập nhật",
                            "title": "Sửa mục"
                        },
                        "error": {
                            "system": "Đã xảy ra lỗi hệ thống (&lt;a target=\"\\\" rel=\"nofollow\" href=\"\\\"&gt;Thêm thông tin&lt;\/a&gt;)."
                        },
                        "multi": {
                            "info": "Các mục đã chọn chứa các giá trị khác nhau cho đầu vào này. Để chỉnh sửa và đặt tất cả các mục cho đầu vào này thành cùng một giá trị, hãy nhấp hoặc nhấn vào đây, nếu không chúng sẽ giữ lại các giá trị riêng lẻ của chúng.",
                            "noMulti": "Đầu vào này có thể được chỉnh sửa riêng lẻ, nhưng không phải là một phần của một nhóm.",
                            "restore": "Hoàn tác thay đổi",
                            "title": "Nhiều giá trị"
                        },
                        "remove": {
                            "button": "Xóa",
                            "confirm": {
                                "_": "Bạn có chắc chắn muốn xóa %d hàng không?",
                                "1": "Bạn có chắc chắn muốn xóa 1 hàng không?"
                            },
                            "submit": "Xóa",
                            "title": "Xóa"
                        }
                    },
                    "infoFiltered": "(được lọc từ _MAX_ dữ liệu)",
                    "searchPlaceholder": "Nhập tìm kiếm...",
                    "stateRestore": {
                        "creationModal": {
                            "button": "Thêm",
                            "columns": {
                                "search": "Tìm kiếm cột",
                                "visible": "Khả năng hiển thị cột"
                            },
                            "name": "Tên:",
                            "order": "Sắp xếp",
                            "paging": "Phân trang",
                            "scroller": "Cuộn vị trí",
                            "search": "Tìm kiếm",
                            "searchBuilder": "Trình tạo tìm kiếm",
                            "select": "Chọn",
                            "title": "Thêm trạng thái",
                            "toggleLabel": "Bao gồm:"
                        },
                        "duplicateError": "Trạng thái có tên này đã tồn tại.",
                        "emptyError": "Tên không được để trống.",
                        "emptyStates": "Không có trạng thái đã lưu",
                        "removeConfirm": "Bạn có chắc chắn muốn xóa %s không?",
                        "removeError": "Không xóa được trạng thái.",
                        "removeJoiner": "và",
                        "removeSubmit": "Xóa",
                        "removeTitle": "Xóa trạng thái",
                        "renameButton": "Đổi tên",
                        "renameLabel": "Tên mới cho %s:",
                        "renameTitle": "Đổi tên trạng thái"
                    },
                    "infoThousands": ".",
                    "thousands": "."
                },
            ajax: {
                contentType: 'application/json',
                url: origin +"/api/customers/findAllCustomerByGroupId/" + groupId,
                type: "GET",
                dataSrc: ''
            },
            lengthMenu: [
                [5, 10, 20,, -1],
                ["5", "10", "20", "All"]
            ],
            searching: false,
            destroy: true,
            columns: [
                {data: 'customerCode'},
                {data: 'id'},
                {data: 'fullName'},
                {data: 'phoneNumber'},
                {data: 'group.title'},
                {data: 'debtTotal'},
                {data: 'spendTotal'},
                {data: "quantityItemOrder"}],
            columnDefs: [
                {
                    targets: 0,
                    render: function (data, type, row, meta) {
                        return `
                               <input type="checkbox" value="check_none" />
                            `
                    }
                },
                {
                    targets: 1,
                    render: function (data, type, row, meta) {
                        return `<a href="/admin/customers/customerInfo/${row.id}">${row.customerCode}</a>`;
                    }
                },
            ],
        })


    }

    function findCustomerByGroupAndStatus(groupId, status) {
        $("#tbCustomer").DataTable({
            // chuyển tiếng việt cho datatable
            language:
                {
                    "processing": "Đang xử lý...",
                    "aria": {
                        "sortAscending": ": Sắp xếp thứ tự tăng dần",
                        "sortDescending": ": Sắp xếp thứ tự giảm dần"
                    },
                    "autoFill": {
                        "cancel": "Hủy",
                        "fill": "Điền tất cả ô với <i>%d<\/i>",
                        "fillHorizontal": "Điền theo hàng ngang",
                        "fillVertical": "Điền theo hàng dọc"
                    },
                    "buttons": {
                        "collection": "Chọn lọc <span class=\"ui-button-icon-primary ui-icon ui-icon-triangle-1-s\"><\/span>",
                        "colvis": "Hiển thị theo cột",
                        "colvisRestore": "Khôi phục hiển thị",
                        "copy": "Sao chép",
                        "copyKeys": "Nhấn Ctrl hoặc u2318 + C để sao chép bảng dữ liệu vào clipboard.<br \/><br \/>Để hủy, click vào thông báo này hoặc nhấn ESC",
                        "copySuccess": {
                            "1": "Đã sao chép 1 dòng dữ liệu vào clipboard",
                            "_": "Đã sao chép %d dòng vào clipboard"
                        },
                        "copyTitle": "Sao chép vào clipboard",
                        "pageLength": {
                            "-1": "Xem tất cả các dòng",
                            "_": "Hiển thị %d dòng",
                            "1": "Hiển thị 1 dòng"
                        },
                        "print": "In ấn",
                        "createState": "Tạo trạng thái",
                        "csv": "CSV",
                        "excel": "Excel",
                        "pdf": "PDF",
                        "removeAllStates": "Xóa hết trạng thái",
                        "removeState": "Xóa",
                        "renameState": "Đổi tên",
                        "savedStates": "Trạng thái đã lưu",
                        "stateRestore": "Trạng thái %d",
                        "updateState": "Cập nhật"
                    },
                    "select": {
                        "cells": {
                            "1": "1 ô đang được chọn",
                            "_": "%d ô đang được chọn"
                        },
                        "columns": {
                            "1": "1 cột đang được chọn",
                            "_": "%d cột đang được được chọn"
                        },
                        "rows": {
                            "1": "1 dòng đang được chọn",
                            "_": "%d dòng đang được chọn"
                        }
                    },
                    "searchBuilder": {
                        "title": {
                            "_": "Thiết lập tìm kiếm (%d)",
                            "0": "Thiết lập tìm kiếm"
                        },
                        "button": {
                            "0": "Thiết lập tìm kiếm",
                            "_": "Thiết lập tìm kiếm (%d)"
                        },
                        "value": "Giá trị",
                        "clearAll": "Xóa hết",
                        "condition": "Điều kiện",
                        "conditions": {
                            "date": {
                                "after": "Sau",
                                "before": "Trước",
                                "between": "Nằm giữa",
                                "empty": "Rỗng",
                                "equals": "Bằng với",
                                "not": "Không phải",
                                "notBetween": "Không nằm giữa",
                                "notEmpty": "Không rỗng"
                            },
                            "number": {
                                "between": "Nằm giữa",
                                "empty": "Rỗng",
                                "equals": "Bằng với",
                                "gt": "Lớn hơn",
                                "gte": "Lớn hơn hoặc bằng",
                                "lt": "Nhỏ hơn",
                                "lte": "Nhỏ hơn hoặc bằng",
                                "not": "Không phải",
                                "notBetween": "Không nằm giữa",
                                "notEmpty": "Không rỗng"
                            },
                            "string": {
                                "contains": "Chứa",
                                "empty": "Rỗng",
                                "endsWith": "Kết thúc bằng",
                                "equals": "Bằng",
                                "not": "Không phải",
                                "notEmpty": "Không rỗng",
                                "startsWith": "Bắt đầu với",
                                "notContains": "Không chứa",
                                "notEndsWith": "Không kết thúc với",
                                "notStartsWith": "Không bắt đầu với"
                            },
                            "array": {
                                "equals": "Bằng",
                                "empty": "Trống",
                                "contains": "Chứa",
                                "not": "Không",
                                "notEmpty": "Không được rỗng",
                                "without": "không chứa"
                            }
                        },
                        "logicAnd": "Và",
                        "logicOr": "Hoặc",
                        "add": "Thêm điều kiện",
                        "data": "Dữ liệu",
                        "deleteTitle": "Xóa quy tắc lọc",
                        "leftTitle": "Giảm thụt lề",
                        "rightTitle": "Tăng thụt lề"
                    },
                    "searchPanes": {
                        "countFiltered": "{shown} ({total})",
                        "emptyPanes": "Không có phần tìm kiếm",
                        "clearMessage": "Xóa hết",
                        "loadMessage": "Đang load phần tìm kiếm",
                        "collapse": {
                            "0": "Phần tìm kiếm",
                            "_": "Phần tìm kiếm (%d)"
                        },
                        "title": "Bộ lọc đang hoạt động - %d",
                        "count": "{total}",
                        "collapseMessage": "Thu gọn tất cả",
                        "showMessage": "Hiện tất cả"
                    },
                    "datetime": {
                        "hours": "Giờ",
                        "minutes": "Phút",
                        "next": "Sau",
                        "previous": "Trước",
                        "seconds": "Giây",
                        "amPm": [
                            "am",
                            "pm"
                        ],
                        "unknown": "-",
                        "weekdays": [
                            "Chủ nhật"
                        ],
                        "months": [
                            "Tháng Một",
                            "Tháng Hai",
                            "Tháng Ba",
                            "Tháng Tư",
                            "Tháng Năm",
                            "Tháng Sáu",
                            "Tháng Bảy",
                            "Tháng Tám",
                            "Tháng Chín",
                            "Tháng Mười",
                            "Tháng Mười Một",
                            "Tháng Mười Hai"
                        ]
                    },
                    "emptyTable": "Không có dữ liệu",
                    "info": "Hiển thị _START_ tới _END_ của _TOTAL_ dữ liệu",
                    "infoEmpty": "Hiển thị 0 tới 0 của 0 dữ liệu",
                    "lengthMenu": "Hiển thị _MENU_ dữ liệu",
                    "loadingRecords": "Đang tải...",
                    "paginate": {
                        "first": "Đầu tiên",
                        "last": "Cuối cùng",
                        "next": "Sau",
                        "previous": "Trước"
                    },
                    "search": "Tìm kiếm:",
                    "zeroRecords": "Không tìm thấy kết quả",
                    "decimal": ",",
                    "editor": {
                        "close": "Đóng",
                        "create": {
                            "button": "Thêm",
                            "submit": "Thêm",
                            "title": "Thêm mục mới"
                        },
                        "edit": {
                            "button": "Sửa",
                            "submit": "Cập nhật",
                            "title": "Sửa mục"
                        },
                        "error": {
                            "system": "Đã xảy ra lỗi hệ thống (&lt;a target=\"\\\" rel=\"nofollow\" href=\"\\\"&gt;Thêm thông tin&lt;\/a&gt;)."
                        },
                        "multi": {
                            "info": "Các mục đã chọn chứa các giá trị khác nhau cho đầu vào này. Để chỉnh sửa và đặt tất cả các mục cho đầu vào này thành cùng một giá trị, hãy nhấp hoặc nhấn vào đây, nếu không chúng sẽ giữ lại các giá trị riêng lẻ của chúng.",
                            "noMulti": "Đầu vào này có thể được chỉnh sửa riêng lẻ, nhưng không phải là một phần của một nhóm.",
                            "restore": "Hoàn tác thay đổi",
                            "title": "Nhiều giá trị"
                        },
                        "remove": {
                            "button": "Xóa",
                            "confirm": {
                                "_": "Bạn có chắc chắn muốn xóa %d hàng không?",
                                "1": "Bạn có chắc chắn muốn xóa 1 hàng không?"
                            },
                            "submit": "Xóa",
                            "title": "Xóa"
                        }
                    },
                    "infoFiltered": "(được lọc từ _MAX_ dữ liệu)",
                    "searchPlaceholder": "Nhập tìm kiếm...",
                    "stateRestore": {
                        "creationModal": {
                            "button": "Thêm",
                            "columns": {
                                "search": "Tìm kiếm cột",
                                "visible": "Khả năng hiển thị cột"
                            },
                            "name": "Tên:",
                            "order": "Sắp xếp",
                            "paging": "Phân trang",
                            "scroller": "Cuộn vị trí",
                            "search": "Tìm kiếm",
                            "searchBuilder": "Trình tạo tìm kiếm",
                            "select": "Chọn",
                            "title": "Thêm trạng thái",
                            "toggleLabel": "Bao gồm:"
                        },
                        "duplicateError": "Trạng thái có tên này đã tồn tại.",
                        "emptyError": "Tên không được để trống.",
                        "emptyStates": "Không có trạng thái đã lưu",
                        "removeConfirm": "Bạn có chắc chắn muốn xóa %s không?",
                        "removeError": "Không xóa được trạng thái.",
                        "removeJoiner": "và",
                        "removeSubmit": "Xóa",
                        "removeTitle": "Xóa trạng thái",
                        "renameButton": "Đổi tên",
                        "renameLabel": "Tên mới cho %s:",
                        "renameTitle": "Đổi tên trạng thái"
                    },
                    "infoThousands": ".",
                    "thousands": "."
                },
            ajax: {
                contentType: 'application/json',
                url: origin +"/api/customers/findAllCustomerByGroupAndStatus/" + groupId + "," + status,
                type: "GET",
                dataSrc: ''
            },
            lengthMenu: [
                [5, 10, 20, -1],
                ["5", "10", "20", "All"]
            ],
            searching: false,
            destroy: true,
            columns: [
                {data: 'id'},
                {data: 'customerCode'},
                {data: 'fullName'},
                {data: 'phoneNumber'},
                {data: 'group.title'},
                {data: 'debtTotal'},
                {data: 'spendTotal'},
                {data: "quantityItemOrder"}],
            columnDefs: [
                {
                    targets: 0,
                    render: function (data, type, row, meta) {
                        return `
                               <input type="checkbox" value="check_none" />
                            `
                    }
                },
                {
                    targets: 1,
                    render: function (data, type, row, meta) {
                        return `<a href="/admin/customers/customerInfo/${row.id}">${row.customerCode}</a>`;
                    }
                },

            ],
        })

    }

    function findCustomerByStatus(status) {

        $("#tbCustomer").DataTable({
            // chuyển tiếng việt cho datatable
            language:
                {
                    "processing": "Đang xử lý...",
                    "aria": {
                        "sortAscending": ": Sắp xếp thứ tự tăng dần",
                        "sortDescending": ": Sắp xếp thứ tự giảm dần"
                    },
                    "autoFill": {
                        "cancel": "Hủy",
                        "fill": "Điền tất cả ô với <i>%d<\/i>",
                        "fillHorizontal": "Điền theo hàng ngang",
                        "fillVertical": "Điền theo hàng dọc"
                    },
                    "buttons": {
                        "collection": "Chọn lọc <span class=\"ui-button-icon-primary ui-icon ui-icon-triangle-1-s\"><\/span>",
                        "colvis": "Hiển thị theo cột",
                        "colvisRestore": "Khôi phục hiển thị",
                        "copy": "Sao chép",
                        "copyKeys": "Nhấn Ctrl hoặc u2318 + C để sao chép bảng dữ liệu vào clipboard.<br \/><br \/>Để hủy, click vào thông báo này hoặc nhấn ESC",
                        "copySuccess": {
                            "1": "Đã sao chép 1 dòng dữ liệu vào clipboard",
                            "_": "Đã sao chép %d dòng vào clipboard"
                        },
                        "copyTitle": "Sao chép vào clipboard",
                        "pageLength": {
                            "-1": "Xem tất cả các dòng",
                            "_": "Hiển thị %d dòng",
                            "1": "Hiển thị 1 dòng"
                        },
                        "print": "In ấn",
                        "createState": "Tạo trạng thái",
                        "csv": "CSV",
                        "excel": "Excel",
                        "pdf": "PDF",
                        "removeAllStates": "Xóa hết trạng thái",
                        "removeState": "Xóa",
                        "renameState": "Đổi tên",
                        "savedStates": "Trạng thái đã lưu",
                        "stateRestore": "Trạng thái %d",
                        "updateState": "Cập nhật"
                    },
                    "select": {
                        "cells": {
                            "1": "1 ô đang được chọn",
                            "_": "%d ô đang được chọn"
                        },
                        "columns": {
                            "1": "1 cột đang được chọn",
                            "_": "%d cột đang được được chọn"
                        },
                        "rows": {
                            "1": "1 dòng đang được chọn",
                            "_": "%d dòng đang được chọn"
                        }
                    },
                    "searchBuilder": {
                        "title": {
                            "_": "Thiết lập tìm kiếm (%d)",
                            "0": "Thiết lập tìm kiếm"
                        },
                        "button": {
                            "0": "Thiết lập tìm kiếm",
                            "_": "Thiết lập tìm kiếm (%d)"
                        },
                        "value": "Giá trị",
                        "clearAll": "Xóa hết",
                        "condition": "Điều kiện",
                        "conditions": {
                            "date": {
                                "after": "Sau",
                                "before": "Trước",
                                "between": "Nằm giữa",
                                "empty": "Rỗng",
                                "equals": "Bằng với",
                                "not": "Không phải",
                                "notBetween": "Không nằm giữa",
                                "notEmpty": "Không rỗng"
                            },
                            "number": {
                                "between": "Nằm giữa",
                                "empty": "Rỗng",
                                "equals": "Bằng với",
                                "gt": "Lớn hơn",
                                "gte": "Lớn hơn hoặc bằng",
                                "lt": "Nhỏ hơn",
                                "lte": "Nhỏ hơn hoặc bằng",
                                "not": "Không phải",
                                "notBetween": "Không nằm giữa",
                                "notEmpty": "Không rỗng"
                            },
                            "string": {
                                "contains": "Chứa",
                                "empty": "Rỗng",
                                "endsWith": "Kết thúc bằng",
                                "equals": "Bằng",
                                "not": "Không phải",
                                "notEmpty": "Không rỗng",
                                "startsWith": "Bắt đầu với",
                                "notContains": "Không chứa",
                                "notEndsWith": "Không kết thúc với",
                                "notStartsWith": "Không bắt đầu với"
                            },
                            "array": {
                                "equals": "Bằng",
                                "empty": "Trống",
                                "contains": "Chứa",
                                "not": "Không",
                                "notEmpty": "Không được rỗng",
                                "without": "không chứa"
                            }
                        },
                        "logicAnd": "Và",
                        "logicOr": "Hoặc",
                        "add": "Thêm điều kiện",
                        "data": "Dữ liệu",
                        "deleteTitle": "Xóa quy tắc lọc",
                        "leftTitle": "Giảm thụt lề",
                        "rightTitle": "Tăng thụt lề"
                    },
                    "searchPanes": {
                        "countFiltered": "{shown} ({total})",
                        "emptyPanes": "Không có phần tìm kiếm",
                        "clearMessage": "Xóa hết",
                        "loadMessage": "Đang load phần tìm kiếm",
                        "collapse": {
                            "0": "Phần tìm kiếm",
                            "_": "Phần tìm kiếm (%d)"
                        },
                        "title": "Bộ lọc đang hoạt động - %d",
                        "count": "{total}",
                        "collapseMessage": "Thu gọn tất cả",
                        "showMessage": "Hiện tất cả"
                    },
                    "datetime": {
                        "hours": "Giờ",
                        "minutes": "Phút",
                        "next": "Sau",
                        "previous": "Trước",
                        "seconds": "Giây",
                        "amPm": [
                            "am",
                            "pm"
                        ],
                        "unknown": "-",
                        "weekdays": [
                            "Chủ nhật"
                        ],
                        "months": [
                            "Tháng Một",
                            "Tháng Hai",
                            "Tháng Ba",
                            "Tháng Tư",
                            "Tháng Năm",
                            "Tháng Sáu",
                            "Tháng Bảy",
                            "Tháng Tám",
                            "Tháng Chín",
                            "Tháng Mười",
                            "Tháng Mười Một",
                            "Tháng Mười Hai"
                        ]
                    },
                    "emptyTable": "Không có dữ liệu",
                    "info": "Hiển thị _START_ tới _END_ của _TOTAL_ dữ liệu",
                    "infoEmpty": "Hiển thị 0 tới 0 của 0 dữ liệu",
                    "lengthMenu": "Hiển thị _MENU_ dữ liệu",
                    "loadingRecords": "Đang tải...",
                    "paginate": {
                        "first": "Đầu tiên",
                        "last": "Cuối cùng",
                        "next": "Sau",
                        "previous": "Trước"
                    },
                    "search": "Tìm kiếm:",
                    "zeroRecords": "Không tìm thấy kết quả",
                    "decimal": ",",
                    "editor": {
                        "close": "Đóng",
                        "create": {
                            "button": "Thêm",
                            "submit": "Thêm",
                            "title": "Thêm mục mới"
                        },
                        "edit": {
                            "button": "Sửa",
                            "submit": "Cập nhật",
                            "title": "Sửa mục"
                        },
                        "error": {
                            "system": "Đã xảy ra lỗi hệ thống (&lt;a target=\"\\\" rel=\"nofollow\" href=\"\\\"&gt;Thêm thông tin&lt;\/a&gt;)."
                        },
                        "multi": {
                            "info": "Các mục đã chọn chứa các giá trị khác nhau cho đầu vào này. Để chỉnh sửa và đặt tất cả các mục cho đầu vào này thành cùng một giá trị, hãy nhấp hoặc nhấn vào đây, nếu không chúng sẽ giữ lại các giá trị riêng lẻ của chúng.",
                            "noMulti": "Đầu vào này có thể được chỉnh sửa riêng lẻ, nhưng không phải là một phần của một nhóm.",
                            "restore": "Hoàn tác thay đổi",
                            "title": "Nhiều giá trị"
                        },
                        "remove": {
                            "button": "Xóa",
                            "confirm": {
                                "_": "Bạn có chắc chắn muốn xóa %d hàng không?",
                                "1": "Bạn có chắc chắn muốn xóa 1 hàng không?"
                            },
                            "submit": "Xóa",
                            "title": "Xóa"
                        }
                    },
                    "infoFiltered": "(được lọc từ _MAX_ dữ liệu)",
                    "searchPlaceholder": "Nhập tìm kiếm...",
                    "stateRestore": {
                        "creationModal": {
                            "button": "Thêm",
                            "columns": {
                                "search": "Tìm kiếm cột",
                                "visible": "Khả năng hiển thị cột"
                            },
                            "name": "Tên:",
                            "order": "Sắp xếp",
                            "paging": "Phân trang",
                            "scroller": "Cuộn vị trí",
                            "search": "Tìm kiếm",
                            "searchBuilder": "Trình tạo tìm kiếm",
                            "select": "Chọn",
                            "title": "Thêm trạng thái",
                            "toggleLabel": "Bao gồm:"
                        },
                        "duplicateError": "Trạng thái có tên này đã tồn tại.",
                        "emptyError": "Tên không được để trống.",
                        "emptyStates": "Không có trạng thái đã lưu",
                        "removeConfirm": "Bạn có chắc chắn muốn xóa %s không?",
                        "removeError": "Không xóa được trạng thái.",
                        "removeJoiner": "và",
                        "removeSubmit": "Xóa",
                        "removeTitle": "Xóa trạng thái",
                        "renameButton": "Đổi tên",
                        "renameLabel": "Tên mới cho %s:",
                        "renameTitle": "Đổi tên trạng thái"
                    },
                    "infoThousands": ".",
                    "thousands": "."
                },
            ajax: {
                contentType: 'application/json',
                url: origin +"/api/customers/findAllCustomerByStatus/" + status,
                type: "GET",
                dataSrc: ''
            },
            lengthMenu: [
                [5, 10, 20, -1],
                ["5", "10", "20", "All"]
            ],

            searching: false,
            //mỗi khi thay đổi dữ liệu nó sẻ xoá cái cũ tạo cái mới á
            destroy: true,
            columns: [
                {data: 'id'},
                {data: 'customerCode'},
                {data: 'fullName'},
                {data: 'phoneNumber'},
                {data: 'group.title'},
                {data: 'debtTotal'},
                {data: 'spendTotal'},
                {data: "quantityItemOrder"}],
            // columnDefs đếm từ o tới á
            columnDefs: [
                {
                    targets: 0,
                    render: function (data, type, row, meta) {
                        return `
                               <input type="checkbox" value="check_none" />
                            `
                    }
                },
                {
                    targets: 1,
                    render: function (data, type, row, meta) {
                        return `<a href="/admin/customers/customerInfo/${row.id}">${row.customerCode}</a>`;
                    }
                },


            ],
        })

    }
    function showAllCustomerGroup() {
        return $.ajax({
            headers: {
                "accept": "application/json",
                "content-type": "application/json"
            },
            type: "GET",

            url: origin +"/api/customer_groups",
        })
            .done((data) => {

                $.each(data, (i, item) => {
                    let str = `<option value="${item.id}">${item.title}</option>`;
                    page.dialogs.elements.groupCustomer.append(str);
                });
            })
            .fail((jqXHR) => {
                CustomerApp.IziToast.showErrorAlert("Lỗi tại customer Group")
            })
    }


    function checkAllSelect(){
        let checkAll = $("#checkAll");
        arrayIdCustomer = [];
        if (checkAll.is(":checked")) {
            $("#tbCustomer > tbody input").each(function () {
                $(this).prop("checked", true);
                arrayIdCustomer.push($(this).val());
            })
        } else {
            $("#tbCustomer > tbody input").each(function () {
                $(this).prop("checked", false);
            })
        }

    }
    

    $("#ddl-group-customer").on('change', () => {
        let groupId = $("#ddl-group-customer :selected").val();
        let status = $("#ddl-status :selected").val();
>>>>>>> 71642ef35d224f631ff2cb70f4fbce277fe589fc


        CustomerApp.page.elements.checkAll.on("change", function () {
            CustomerApp.page.elements.selectAction.prop("checked", true);

            arrayIdCustomer = [];

            if (this.checked) {
                $("#tbCustomer > tbody input").each(function () {
                    $(this).prop("checked", true);
                    arrayIdCustomer.push($(this).val());
                })
            } else {
                $("#tbCustomer > tbody input").each(function () {
                    $(this).prop("checked", false);
                })
            }
        })
        // nút lọc
        CustomerApp.page.elements.btnFilter.on('click', () => {
            // CustomerApp.page.commands.drawFilterLabel();
            CustomerApp.page.commands.drawDataTable();
            bsOffcanvas.hide()

            checkCustomerFilterChange = {...customerFilter}

            let checkCustomerFilterRoot = {
                id: null,
                customerCode: null,
                groupIds: [],
                gender: null,
                dayOfBirthday: null,
                monthOfBirthday: null,
                employeeIds: [],
                statusList: [],
                createdFrom: null,
                createdTo: null,
                keyword: null
            }

            console.log(checkCustomerFilterChange);
            let obj = getChanges(checkCustomerFilterRoot, checkCustomerFilterChange);
            if (isEmpty(obj)) {
                console.log("Không có thay đổi");
                CustomerApp.page.elements.btnSaveSearch.attr("disabled", "");
                CustomerApp.page.elements.btnSaveSearch.css("background-color", "rgb(243, 244, 245)");
                CustomerApp.page.elements.btnSaveSearch.css("color", "rgb(116, 124, 135)");
            } else {
                CustomerApp.page.elements.btnSaveSearch.removeAttr("disabled");
                CustomerApp.page.elements.btnSaveSearch.css("background-color", "rgb(51, 160, 255)");
                CustomerApp.page.elements.btnSaveSearch.css("color", "white");
                console.log("Có thay đổi");
            }
        });

        // nút xóa bộ lọc
        CustomerApp.page.elements.btnCloseFilter.on('click', () => {
            $("#offcanvasExample input[type=checkbox]").each((index, item) => {
                $(item).prop('checked', false);
            })

            $("#offcanvasExample input[type=radio]").each((index, item) => {
                $(item).prop('checked', false);
            })

            customerFilter.groupIds = [];
            customerFilter.gender = null;
            customerFilter.employeeIds = [];
            customerFilter.statusList = null;
            customerFilter.dayOfBirthday = null;
            customerFilter.monthOfBirthday = null;
            localStorage.removeItem(KEY_CUSTOMER_FILTER_SAVE);
            CustomerApp.IziToast.showSuccessAlert(CustomerApp.AlertMessageVi.SUCCESS_DELETE);
        })

        CustomerApp.page.commands.drawFilterLabel = () => {
            !CustomerApp.page.elements.divDeleteFilterGroupLabel
                ? CustomerApp.page.elements.divDeleteFilterGroupLabel.remove()
                : CustomerApp.page.commands.drawFilterLabelGroup();

        }

        CustomerApp.page.commands.drawFilterLabelGroup = () => {
            if (customerFilter.groupIds.length !== 0) {
                let strNameFilterGroup = "";
                for (let i = 0; i < customerFilter.groupIds.length; i++) {
                    for (let j = 0; j < customerGroups.length; j++) {
                        if (customerFilter.groupIds[i] === customerGroups[j].id) {
                            strNameFilterGroup += customerGroups[i].title;
                        }
                    }
                    if (i !== customerFilter.groupIds.length - 1) {
                        strNameFilterGroup += ", "
                    }
                }
                let labelGroups = `
                    <div class="jss4169" id="divDeleteFilterGroupLabel">
                    <span class="jss4170 label">
                    Nhóm khách hàng: ${strNameFilterGroup}
                    </span>
                            <div class="jss4171">
                            <button class="MuiButtonBase-root MuiIconButton-root delete-icon" tabindex="0" type="button">
                                <span class="MuiIconButton-label" id="btnDeleteFilterGroupLabel">
                                <svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true">
                                    <path
                                            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z">
                                    </path>
                                </svg>
                                </span>
                                <span class="MuiTouchRipple-root">

                            </span>
                            </button>
                    </div>
                    </div>
                `;

                CustomerApp.page.elements.filterLabel.append(labelGroups);
                CustomerApp.page.elements.btnDeleteFilterGroupLabel.click(() => {

                    customerFilter.groupIds = [];

                    CustomerApp.page.elements.divDeleteFilterGroupLabel.remove();

                    CustomerApp.page.commands.drawDataTable();

                    $("#customerGroupFilter input[type=checkbox]").each((index, item) => {
                        $(item).prop('checked', false);
                    })
                });
            }
        }

        // CustomerApp.page.commands.getAllCustomerGender = () => {
        //     return $.ajax({
        //         headers: {
        //             "accept": "application/json",
        //             "content-type": "application/json"
        //         },
        //         type: "GET",
        //         url: origin + "/api/customers/customerGender"
        //     })
        //         .done((data) => {
        //             console.log(data)
        //             $.each(data, (i, item) => {
        //                 console.log(item)
        //                 let str = `<option value="${item}">
        //                    ${item}
        //                 </option>`;
        //                 CustomerApp.page.elements.genderFilter.append(str);
        //             });
        //         })
        //         .fail((jqXHR) => {
        //             console.log(jqXHR);
        //             if (jqXHR.responseJSON) {
        //                 $.each(jqXHR.responseJSON, (key, item) => {
        //                     CustomerApp.IziToast.showErrorAlert(item);
        //                 })
        //             }
        //         })
        // }

        // function getAllEmployeeFilter(arrEmployeeId) {
        //     $.ajax({
        //         headers: {
        //             "accept": "application/json",
        //             "content-type": "application/json"
        //         },
        //         type: "Post",
        //         url: origin + "/api/customers/findAllCustomerEmployee",
        //         data: JSON.stringify(arrEmployeeId)
        //     })
        //         .done((data) => {
        //
        //             getAllFilterCustomer(data)
        //
        //         })
        //         .fail((jqXHR) => {
        //
        //         })
        // }

        // getAllFilter = (arrId) => {
        //     $.ajax({
        //         headers: {
        //             "accept": "application/json",
        //             "content-type": "application/json"
        //         },
        //         type: "Post",
        //         url: origin + "/api/customers/filter",
        //         data: JSON.stringify(arrId)
        //     })
        //         .done((data) => {
        //
        //             // getAllFilterCustomer(data)
        //         })
        //         .fail((jqXHR) => {
        //             console.log(jqXHR)
        //         })
        // }


        // getAllCustomerGroup = () => {
        //     return $.ajax({
        //         headers: {
        //             "accept": "application/json",
        //             "content-type": "application/json"
        //         },
        //         type: "GET",
        //         url: origin + "/api/customer_groups"
        //     })
        //         .done((data) => {
        //             // console.log(data)
        //             customerGroups = data;
        //             $.each(data, (i, item) => {
        //                 let str = `<div>
        //                     <input type="checkbox"  class="customerGroup-input" data-id=${item.id}>
        //                     ${item.title}
        //                     </div>`;
        //                 $("#customerGroupFilter").append(str);
        //             });
        //         })
        //         .fail((jqXHR) => {
        //             console.log(jqXHR)
        //         })
        // }

        CustomerApp.page.commands.getAllEmployeeSelect = () => {
            return $.ajax({
                headers: {
                    "accept": "application/json",
                    "content-type": "application/json"
                },
                type: "GET",
                url: origin + "/api/employees"
            })
                .done((data) => {
                    employees = data;
                    $.each(data, (i, item) => {
                        let str = `<div value="${item.id}">
                        <input type="checkbox" class="customerEmployee-input" data-id=${item.id}>
                        ${item.fullName}</div>`;

                        CustomerApp.page.elements.employeeNameFilter.append(str);
                    });
                })
                .fail((jqXHR) => {
                    console.log(jqXHR)
                })
        }


        // lịch
        CustomerApp.page.elements.datepicker.datepicker({
            uiLibrary: 'bootstrap5'
        });
        CustomerApp.page.elements.datepicker2.datepicker({
            uiLibrary: 'bootstrap5'
        });
        CustomerApp.page.elements.datepicker3.datepicker({
            uiLibrary: 'bootstrap5'
        });
        CustomerApp.page.elements.datepicker4.datepicker({
            uiLibrary: 'bootstrap5'
        });
        CustomerApp.page.elements.datepicker5.datepicker({
            uiLibrary: 'bootstrap5'
        });

        // getAllCustomerGroup();
        // CustomerApp.page.commands.getAllCustomerGender();
        CustomerApp.page.commands.getAllEmployeeSelect();

        $(() => {
            // Customergroup filter
            let elements = $('input[class="customerGroup-input"]');

            $.each(elements, (index, item) => {
                $(item).change(() => {
                    let idSelected = item.getAttribute("data-id");

                    if (customerFilter.groupIds.length === 0) {
                        customerFilter.groupIds.push(idSelected);
                    } else {
                        let check = customerFilter.groupIds.includes(idSelected);

                        if (check === false) {
                            customerFilter.groupIds.push(item.getAttribute("data-id"));
                        } else {
                            let indexSelectedValue = customerFilter.groupIds.findIndex((value, item) => {
                                if (value === idSelected) {
                                    return true;
                                }
                            })
                            customerFilter.groupIds.splice(indexSelectedValue, 1);
                        }
                    }
                });
            });

            // Gender filter
            $('input[name=flexRadioDefault]').change(function () {
                customerFilter.gender = $('input[name=flexRadioDefault]:checked').val();
            });

            // Keyword: Mã khách hàng, fullname, SDT
            let input = document.getElementById("inp-search");

            input.addEventListener("keypress", function (event) {
                if (event.key === "Enter") {
                    event.preventDefault();
                    customerFilter.keyword = CustomerApp.page.elements.search.val();
                    CustomerApp.page.commands.drawDataTable();
                }
            });
        });

        $(() => {
            // Employee Filter
            let elements = $('input[class="customerEmployee-input"]');
            $.each(elements, (index, item) => {
                $(item).change(() => {
                    let idSelected = item.getAttribute("data-id");
                    if (customerFilter.employeeIds.length === 0) {
                        customerFilter.employeeIds.push(idSelected);
                    } else {
                        let check = customerFilter.employeeIds.includes(idSelected);
                        if (check === false) {
                            customerFilter.employeeIds.push(item.getAttribute("data-id"));
                        } else {
                            let indexSelectedValue = customerFilter.employeeIds.findIndex((value, item) => {
                                if (value === idSelected) {
                                    return true;
                                }
                            })
                            customerFilter.employeeIds.splice(indexSelectedValue, 1);
                        }
                    }

                });
            });

            // Status filter
            $('input[name=Status]').change(() => {
                customerFilter.statusList = $('input[name=Status]:checked').val();
            });
        })

        // ngày sinh nhật
        handleClickDay = (day) => {
            customerFilter.dayOfBirthday = day;
            CustomerApp.page.elements.allDay.text(day)
        }

        // tháng sinh nhật
        handleClickYear = (month) => {
            customerFilter.monthOfBirthday = month;
            CustomerApp.page.elements.allYear.text(month)
        }

        //filter end

        //customer start

        // CustomerApp.page.elements.importFile.on("click", function () {
        //     CustomerApp.page.elements.modalImportFileCustomers.modal("show");
        // })
        //
        // CustomerApp.page.commands.showLoading = () => {
        //     CustomerApp.page.elements.loading.css('z-index', 1);
        //     CustomerApp.page.elements.btnImportFileCustomers.prop('disabled', true);
        //
        // }
        //
        // CustomerApp.page.commands.closeLoading = () => {
        //     CustomerApp.page.elements.loading.css('z-index', -1);
        //     CustomerApp.page.elements.btnImportFileCustomers.prop('disabled', false);
        // }


        // CustomerApp.page.commands.findCustomerByGroup = (groupId) => {
        //     CustomerApp.page.elements.tbCustomer.DataTable({
        //         // chuyển tiếng việt cho datatable
        //         language: dataTable.language,
        //         ajax: {
        //             contentType: 'application/json',
        //             url: origin + "/api/customers/findAllCustomerByGroupId/" + groupId,
        //             type: "GET",
        //             dataSrc: ''
        //         },
        //         lengthMenu: dataTable.lengthMenu,
        //         searching: dataTable.searching,
        //         destroy: dataTable.destroy,
        //         columns: dataTable.columns,
        //         columnDefs: dataTable.columnDefs,
        //     })
        // }
        //
        // CustomerApp.page.commands.findCustomerByGroupAndStatus = (groupId, status) => {
        //     CustomerApp.page.elements.tbCustomer.DataTable({
        //         // chuyển tiếng việt cho datatable
        //         language: dataTable.language,
        //         ajax: {
        //             contentType: 'application/json',
        //             url: origin + "/api/customers/findAllCustomerByGroupAndStatus/" + groupId + "," + status,
        //             type: "GET",
        //             dataSrc: ''
        //         },
        //         lengthMenu: dataTable.lengthMenu,
        //         searching: dataTable.searching,
        //         destroy: dataTable.destroy,
        //         columns: dataTable.columns,
        //         columnDefs: dataTable.columnDefs,
        //     })
        //
        // }
        //
        // CustomerApp.page.commands.findCustomerByStatus = (status) => {
        //     CustomerApp.page.elements.tbCustomer.DataTable({
        //         // chuyển tiếng việt cho datatable
        //         language: dataTable.language,
        //         ajax: {
        //             contentType: 'application/json',
        //             url: origin + "/api/customers/findAllCustomerByStatus/" + status,
        //             type: "GET",
        //             dataSrc: ''
        //         },
        //         lengthMenu: dataTable.lengthMenu,
        //         searching: dataTable.searching,
        //         //mỗi khi thay đổi dữ liệu nó sẻ xoá cái cũ tạo cái mới á
        //         destroy: dataTable.destroy,
        //         columns: dataTable.columns,
        //         // columnDefs đếm từ o tới á
        //         columnDefs: dataTable.columnDefs,
        //     })
        //
        // }
        //
        // CustomerApp.page.commands.showAllCustomerGroup = () => {
        //     return $.ajax({
        //         headers: {
        //             "accept": "application/json",
        //             "content-type": "application/json"
        //         },
        //         type: "GET",
        //         url: origin + "/api/customer_groups",
        //     })
        //         .done((data) => {
        //
        //             $.each(data, (i, item) => {
        //                 let str = `<option value="${item.id}">${item.title}</option>`;
        //                 CustomerApp.page.dialogs.elements.groupCustomer.append(str);
        //             });
        //         })
        //         .fail((jqXHR) => {
        //             console.log(jqXHR)
        //             CustomerApp.IziToast.showErrorAlert("Lỗi tại customer Group")
        //         })
        // }
        //
        // CustomerApp.page.commands.checkAllCheckBoxes = () => {
        //     CustomerApp.page.elements.checkAll.click(function () {
        //         if (this.checked) {
        //             CustomerApp.page.elements.checkboxes.prop("checked", true);
        //         } else {
        //             CustomerApp.page.elements.checkboxes.prop("checked", false);
        //         }
        //     });
        //
        //     $(".checkboxes").click(function () {
        //         console.log('checkboxes checked')
        //         let numberOfCheckboxes = CustomerApp.page.elements.checkboxes.length;
        //         console.log(numberOfCheckboxes)
        //         let numberOfCheckboxesChecked = $('.checkboxes:checked').length;
        //         console.log(numberOfCheckboxesChecked)
        //
        //         if (numberOfCheckboxes === numberOfCheckboxesChecked) {
        //             CustomerApp.page.elements.checkAll.prop("checked", true);
        //         } else {
        //             CustomerApp.page.elements.checkAll.prop("checked", false);
        //         }
        //         console.log(dataTable.lengthMenu)
        //     });
        // }

        // CustomerApp.page.elements.checkAll.click(() => {
        //     $("input[type=checkbox]").prop("checked", $(this).prop("checked"));
        // });
        //
        // $("input[type=checkbox]").click(() => {
        //     if (!$(this).prop("checked")) {
        //         $("#selectAll").prop("checked", false);
        //     }
        // });

        // CustomerApp.page.elements.checkAll.on("change", () => {
        //     CustomerApp.page.elements.selectAction.prop("checked", true);
        //     arrayIdCustomer = [];
        //     if (this.checked) {
        //         $("#tbCustomer > tbody input").each(function () {
        //             $(this).prop("checked", true);
        //             arrayIdCustomer.push($(this).val());
        //         })
        //     } else {
        //         $("#tbCustomer > tbody input").each(function () {
        //             $(this).prop("checked", false);
        //         })
        //     }
        //
        // })

        // CustomerApp.page.dialogs.elements.groupCustomer.on('change', () => {
        //     let groupId = $("#ddl-group-customer :selected").val();
        //     let status = $("#ddl-status :selected").val();
        //
        //     CustomerApp.page.commands.findCustomerByGroup(groupId)
        //     if (status === -1 || groupId === -1) {
        //         CustomerApp.page.commands.getAllCustomers();
        //     }
        // });
        //
        // CustomerApp.page.dialogs.elements.status.on('change', () => {
        //     let groupId = $("#ddl-group-customer :selected").val();
        //     let status = $("#ddl-status :selected").val();
        //     console.log(status)
        //     CustomerApp.page.commands.findCustomerByStatus(status)
        //     if (status === -1 || groupId === -1) {
        //         CustomerApp.page.commands.getAllCustomers();
        //     }
        // });
        //
        // CustomerApp.page.elements.btnImportFileCustomers.on('click', () => {
        //     CustomerApp.page.commands.showLoading();
        //     let data = new FormData();
        //     let file = CustomerApp.page.elements.formFileCustomers[0].files[0];
        //     data.append('file', file);
        //     $.ajax({
        //         url: origin + '/api/customers/upload',
        //         processData: false,
        //         contentType: false,
        //         data: data,
        //         type: 'POST'
        //     }).done(function (result) {
        //         CustomerApp.page.elements.modalImportFileCustomers.modal("hide");
        //         CustomerApp.page.elements.frmFileCustomers[0].reset();
        //         CustomerApp.page.commands.getAllCustomers();
        //         CustomerApp.page.commands.closeLoading();
        //         CustomerApp.IziToast.showSuccessAlert("Tải file lên thành công!")
        //     }).fail((jqXHR) => {
        //         console.log(jqXHR)
        //         CustomerApp.IziToast.showErrorAlert("Tải file lên không thành công!")
        //         CustomerApp.page.commands.closeLoading();
        //     })
        //
        //
        // });
        //
        // CustomerApp.page.commands.handleSaveFilter = () => {
        //     CustomerApp.page.elements.btnSaveSearch.on("click", () => {
        //         localStorage.setItem(KEY_CUSTOMER_FILTER_SAVE, JSON.stringify(customerFilter));
        //         CustomerApp.IziToast.showSuccessAlert(CustomerApp.AlertMessageVi.SUCCESS_FILTERED);
        //     });
        // }


        // const getChanges = (previous, current) => {
        //     if (isPrimitive(previous) && isPrimitive(current)) {
        //         if (previous === current) {
        //             return "";
        //         }
        //
        //         return current;
        //     }
        //
        //     if (isObject(previous) && isObject(current)) {
        //         const diff = getChanges(Object.entries(previous), Object.entries(current));
        //
        //         return diff.reduce((merged, [key, value]) => {
        //             return {
        //                 ...merged,
        //                 [key]: value
        //             }
        //         }, {});
        //     }
        //
        //
        //     if (JSON.stringify(previous) === JSON.stringify(current)) {
        //         return changes;
        //     }
        //
        //     for (let i = 0; i < current.length; i++) {
        //         const item = current[i];
        //
        //         if (JSON.stringify(item) !== JSON.stringify(previous[i])) {
        //             changes.push(item);
        //         }
        //     }
        //
        //     return changes;
        // };
        //
        // isEmpty = (obj) => {
        //     for (var prop in obj) {
        //         if (Object.prototype.hasOwnProperty.call(obj, prop)) {
        //             return false;
        //         }
        //     }
        //
        //     return JSON.stringify(obj) === JSON.stringify({});
        // }
        //
        // const typeOf = o => Object.prototype.toString.call(o);
        // const isObject = o => o !== null && !Array.isArray(o) && typeOf(o).split(" ")[1].slice(0, -1) === "Object";
        //
        // const isPrimitive = o => {
        //     switch (typeof o) {
        //         case "object": {
        //             return false;
        //         }
        //         case "function": {
        //             return false;
        //         }
        //         default: {
        //             return true;
        //         }
        //     }
        // };

        CustomerApp.page.commands.getAllCustomers = () => {
            $(document).ready(() => {
                if (!localStorage.getItem(KEY_CUSTOMER_FILTER_SAVE)) {
                    customerFilter = new CustomerFilter();
                    localStorage.setItem(KEY_CUSTOMER_FILTER_SAVE, JSON.stringify(customerFilter));
                } else {
                    customerFilter = JSON.parse(localStorage.getItem(KEY_CUSTOMER_FILTER_SAVE));
                }
                CustomerApp.page.commands.drawDataTable();
            })
        }

        CustomerApp.page.commands.drawDataTable = () => {
            dataTable = CustomerApp.page.elements.tbCustomer.DataTable({
                processing: true,
                serverSide: true,
                select: {
                    style: 'multi',
                    selector: 'td:first-child input[type="checkbox"]',
                    className: 'row-selected'
                },
                ajax: {
                    url: origin + '/api/customers/filter',
                    type: 'POST',
                    contentType: 'application/json',
                    data: (d) => {
                        d.keyword = customerFilter.keyword;
                        d.groupIds = customerFilter.groupIds;
                        d.gender = customerFilter.gender;
                        d.dayOfBirthday = customerFilter.dayOfBirthday;
                        d.monthOfBirthday = customerFilter.monthOfBirthday;
                        d.employeeIds = customerFilter.employeeIds;
                        d.statusList = [];
                        console.log(d)
                        return JSON.stringify(d)
                    }
                },
                language: CustomerApp.dataTableDetails.language,
                lengthMenu: CustomerApp.dataTableDetails.lengthMenu,
                searching: CustomerApp.dataTableDetails.searching,
                destroy: CustomerApp.dataTableDetails.destroy,
                columns: CustomerApp.dataTableDetails.columns,
                columnDefs: CustomerApp.dataTableDetails.columnDefs,
            })
        }

        CustomerApp.page.loadData = () => {
            CustomerApp.page.commands.getAllCustomers()

            // CustomerApp.page.commands.showAllCustomerGroup()
            //
            // CustomerApp.page.commands.handleSaveFilter();
            //
            // CustomerApp.page.commands.checkAllCheckBoxes();
        }

        $(() => {
            CustomerApp.page.loadData();
        });

        //customer end

    </script>
</div>
</body>
</html>